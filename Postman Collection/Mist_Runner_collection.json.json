{
	"info": {
		"_postman_id": "dadbd3d3-26e1-4c81-9d53-449d3dc0aa0b",
		"name": "Mist Runner Collections 0.3.9.1",
		"description": "This collection will use a CSV Template to create multiple sites via the Mist API  .\n\nIt also uses a google API to get the lat/long of the address and use the properly formatted address returned from Google Maps.\n\n\nRequired Environmental Variables:\n\n{{apitoken}} This your Mist dashboard API token.  It should have permissions to create sites\n{{google_api_token}} This is a google API token that has access to geocode APIs.\n\n\nCSV Required Values:\nsite_name\nsite_address (Note, must be URL Encoded (replace \" \" with \"+\" and enclosed in quotes)\n\nCSV Optional Values:\nsite_groups\nrf_template_id\n\nExample CSV:\n\nsite_name,site_address,site_groups,rf_template_id\n```\nAdonis,\"5592+S+Adonis+Pl,+Boise,+ID+83716\",xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx,xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\n```",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Site Creation",
			"item": [
				{
					"name": "checkDuplicateSite_sitecreation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"console.log(`Starting Site ${pm.iterationData.get(\"site_name\")}`)",
									"var nextRequest = null",
									"var foundDup = false",
									"var jsonData = JSON.parse(responseBody);",
									"",
									"",
									"",
									"if (!!pm.iterationData.get(\"sitegroup_ids\")) {",
									"    pm.collectionVariables.set(\"c_sitegroup_ids\", pm.iterationData.get(\"sitegroup_ids\"));",
									"    console.info(\"sitegroup_ids set in CSV\");",
									"}",
									"",
									"if (!!pm.iterationData.get(\"rftemplate_id\")) {",
									"    pm.collectionVariables.set(\"c_rftemplate_id\", pm.iterationData.get(\"rftemplate_id\"));",
									"    console.info(\"Setting RF Template ID to \" + pm.collectionVariables.get(\"c_rftemplate_id\"));",
									"    };",
									"",
									"if (!!pm.iterationData.get(\"secpolicy_id\")) {",
									"    pm.collectionVariables.set(\"c_secpolicy_id\", pm.iterationData.get(\"secpolicy_id\"));",
									"    console.info(\"Setting Sec Policy ID to \" + pm.collectionVariables.get(\"c_secpolicy_id\"));",
									"    };",
									"",
									"if (!!pm.iterationData.get(\"alarmtemplate_id\")) {",
									"    pm.collectionVariables.set(\"c_alarmtemplate_id\", pm.iterationData.get(\"alarmtemplate_id\"));",
									"    console.info(\"Setting Sec Policy ID to \" + pm.collectionVariables.get(\"c_alarmtemplate_id\"));",
									"    };",
									"",
									"if (!!pm.iterationData.get(\"networktemplate_id\")) {",
									"    pm.collectionVariables.set(\"c_networktemplate_id\", pm.iterationData.get(\"networktemplate_id\"));",
									"    console.info(\"Setting Sec Policy ID to \" + pm.collectionVariables.get(\"c_networktemplate_id\"));",
									"    };",
									"",
									"console.info(`CSV Value: ${pm.iterationData.get(\"site_name\")}`)",
									"console.info(`Formatted Value: ${pm.collectionVariables.get(\"c_site_name\")}`)",
									"",
									"for (var i = 0; i < jsonData.length; i++) {",
									"    if (jsonData[i].name == pm.variables.get(\"c_site_name\")) {",
									"        console.log(\"Found Duplicate Site, bailing.\")",
									"        foundDup = true",
									"        }",
									"};",
									"pm.test(\"Verify site_name does not exist\", function(){",
									"    pm.expect(foundDup).to.eql(false);",
									"});",
									"",
									"//Test if we need to clone existing site",
									"if ((!!pm.iterationData.get(\"site_template_name\")) || (!!pm.iterationData.get(\"site_template_id\"))) {",
									"    console.log(\"found site template name/id\")",
									"    pm.collectionVariables.set(\"c_clone\", true);",
									"}",
									"else {",
									"    console.log(\"No Template Site/ID found\")",
									"};",
									"",
									"",
									"//Test if we need to geocode",
									"if (!!pm.iterationData.get(\"lat\") && !!pm.iterationData.get(\"lng\") && !!pm.iterationData.get(\"time_zone\")) {",
									"    console.log(\"Geocoded/Timezone values present, Skipping Geocoding\")",
									"    pm.collectionVariables.set(\"c_lat\", pm.iterationData.get(\"lat\"))",
									"    pm.collectionVariables.set(\"c_lng\", pm.iterationData.get(\"lng\"));",
									"    pm.collectionVariables.set(\"c_time_zone\", pm.iterationData.get(\"time_zone\"));",
									"    pm.collectionVariables.set(\"c_country_code\", pm.iterationData.get(\"country_code\"));",
									"    // Skip geocoding if lat/long/timezone are present in CSV and formatted address",
									"    pm.collectionVariables.set(\"formatted_address\", pm.iterationData.get('site_address'));",
									"    pm.collectionVariables.set(\"c_geocode\", false)",
									"    nextRequest = \"createOrgSite_sitecreation\";",
									"}",
									"else {",
									"    console.log(\"No lat/lng/time_zone found, geocoding\");",
									"    pm.collectionVariables.set(\"c_geocode\", true);",
									"};",
									"",
									"// Test if additional settings are specified",
									"if (pm.iterationData.has(\"custom_settings\") && pm.iterationData.get(\"custom_settings\")){",
									"    console.log(\"Custom Settings Requested\")",
									"    pm.collectionVariables.set(\"c_custom_settings\", true);",
									"};",
									"",
									"",
									"if (foundDup == true){",
									"     nextRequest = null;",
									"     console.log(\"Duplicate Site Found, ending iteration\")",
									"",
									"}",
									"else if (pm.collectionVariables.get(\"c_clone\") == true) {",
									"    console.log(\"Template Site ID/Name Found, cloning Site Settings\")",
									"    nextRequest = \"getTemplateSite_sitecreation\";",
									"}",
									"else if (pm.collectionVariables.get(\"c_geocode\") == true){",
									"    console.log(\"Missing Lat/Lng/Timezone, geocoding\")",
									"    nextRequest = \"googleGeocode_sitecreation\";",
									"}",
									"else {",
									"    console.log(\"Moving to Create Site\")",
									"}",
									"",
									"console.log(`setting next request ${nextRequest}`);",
									"postman.setNextRequest(nextRequest);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Ensure all collection variables are removed before running.",
									"pm.collectionVariables.unset(\"c_site_id\");",
									"pm.collectionVariables.unset(\"c_lat\");",
									"pm.collectionVariables.unset(\"c_lng\");",
									"pm.collectionVariables.unset(\"c_time_zone\")",
									"",
									"pm.collectionVariables.unset(\"c_site_name\");",
									"pm.collectionVariables.unset(\"c_site_template_id\");",
									"pm.collectionVariables.unset(\"c_site_template_name\");",
									"pm.collectionVariables.unset(\"c_site_address\");",
									"pm.collectionVariables.set(\"c_sitegroup_ids\", null);",
									"pm.collectionVariables.set(\"c_rftemplate_id\", \"\");",
									"pm.collectionVariables.set(\"c_secpolicy_id\", \"\");",
									"pm.collectionVariables.set(\"c_alarmtemplate_id\", \"\");",
									"pm.collectionVariables.set(\"c_networktemplate_id\", \"\");",
									"pm.collectionVariables.unset(\"c_site_template_settings\");",
									"pm.collectionVariables.unset(\"c_geocode\")",
									"pm.collectionVariables.set(\"c_clone\", false)",
									"pm.collectionVariables.unset(\"country_code\");",
									"pm.collectionVariables.unset(\"formatted_address\");",
									"pm.collectionVariables.unset(\"lat\");",
									"pm.collectionVariables.unset(\"lng\");",
									"pm.collectionVariables.unset(\"time_zone\");",
									"",
									"//Handling of digit only sites with quotes.",
									"var formatted_string = pm.iterationData.get(\"site_name\")",
									"if (formatted_string.includes(\"\\'\") || formatted_string.includes(\"\\\"\")) {",
									"    console.info(\"stripping formatting of site_name\")",
									"    formatted_string = formatted_string.replace(/'/g, \"\");",
									"    formatted_string = formatted_string.replace(/\"/g, \"\");",
									"    console.log(`Formatted Name ${formatted_string}`);",
									"    pm.collectionVariables.set(\"c_site_name\", formatted_string)",
									"}",
									"else {",
									"    pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"site_name\"))",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/api/v1/orgs/:orgr_id/sites",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orgs",
								":orgr_id",
								"sites"
							],
							"variable": [
								{
									"key": "orgr_id",
									"value": "{{org_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "getTemplateSite_sitecreation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var nextRequest = \"getSiteSettingsFromTemplate_sitecreation\";",
									"let jsonData = pm.response.json();",
									"",
									"var foundTemplateSite = false;",
									"",
									"// Get template site details",
									"if (!!pm.iterationData.get(\"site_template_id\")) {",
									"    // Check for site_template_id variable and lookup template site",
									"    console.info(\"Searching for site by ID...\");    ",
									"    for (var i = 0; i < jsonData.length; i++) {",
									"        if (jsonData[i].id == pm.iterationData.get(\"site_template_id\")) {",
									"            var data = jsonData[i];",
									"",
									"            if (data.id) {",
									"                pm.collectionVariables.set(\"c_site_template_id\", data.id);",
									"                // console.log(\"Setting site template ID to \" + pm.collectionVariables.get(\"c_site_template_id\"));",
									"            }",
									"",
									"            if (data.name) {",
									"                pm.collectionVariables.set(\"c_site_template_name\", data.name);",
									"                // console.log(\"Setting site template name to \" + pm.collectionVariables.get(\"c_site_template_name\"));",
									"            }",
									"",
									"            if (data.sitegroup_ids && !iterationData.has(\"sitegroup_ids\")) {pm",
									"                pm.collectionVariables.set(\"c_sitegroup_ids\", JSON.stringify(data.sitegroup_ids));",
									"                 console.log(\"Site Group IDs: \" + pm.collectionVariables.get(\"c_sitegroup_ids\"));",
									"            }",
									"            else if (iterationData.has(\"sitegroup_ids\"))",
									"            {",
									"                pm.collectionVariables.set(\"c_sitegroup_ids\", iterationData.get(\"sitegroup_ids\"));",
									"                console.log(\"sitegroup_ids set in CSV\");",
									"            }",
									"",
									"            if (data.rftemplate_id) {",
									"                pm.collectionVariables.set(\"c_rftemplate_id\", data.rftemplate_id);",
									"                // console.log(\"Setting RF Template ID to \" + pm.collectionVariables.get(\"c_rftemplate_id\"));",
									"            }",
									"",
									"            if (data.secpolicy_id) {",
									"                pm.collectionVariables.set(\"c_secpolicy_id\", data.secpolicy_id);",
									"                // console.log(\"Setting Security Policy ID to \" + pm.collectionVariables.get(\"c_secpolicy_id\"));",
									"            }",
									"",
									"            if (data.alarmtemplate_id) {",
									"                pm.collectionVariables.set(\"c_alarmtemplate_id\", data.alarmtemplate_id);",
									"                // console.log(\"Setting Alarm Template ID to \" + pm.collectionVariables.get(\"c_alarmtemplate_id\"));",
									"            }",
									"",
									"            if (data.networktemplate_id) {",
									"                pm.collectionVariables.set(\"c_networktemplate_id\", data.networktemplate_id);",
									"                // console.log(\"Setting Network Template ID to \" + pm.collectionVariables.get(\"c_networktemplate_id\"));",
									"            }",
									"",
									"            foundTemplateSite = true;",
									"        }",
									"    }",
									"}",
									"else if (((pm.iterationData.get(\"site_template_id\") == \"\") || (pm.iterationData.get(\"site_template_id\") == null)) && ((pm.iterationData.get(\"site_template_name\") != \"\") || (pm.iterationData.get(\"site_template_name\") != null))) {",
									"    // If site_template_id is not set, use site_template_name to lookup template site",
									"    console.info(\"Searching for site by name...\");",
									"    for (var i = 0; i < jsonData.length; i++) {",
									"        if (jsonData[i].name == pm.iterationData.get(\"site_template_name\")) {",
									"            var data = jsonData[i];",
									"",
									"            if (data.id) {",
									"                pm.collectionVariables.set(\"c_site_template_id\", data.id);",
									"                // console.log(\"Setting site template ID to \" + pm.collectionVariables.get(\"c_site_template_id\"));",
									"            }",
									"",
									"            if (data.name) {",
									"                pm.collectionVariables.set(\"c_site_template_name\", data.name);",
									"                // console.log(\"Setting site template name to \" + pm.collectionVariables.get(\"c_site_template_name\"));",
									"            }",
									"",
									"            if (data.sitegroup_ids) {",
									"                pm.collectionVariables.set(\"c_sitegroup_ids\", JSON.stringify(data.sitegroup_ids));",
									"                // console.log(\"Site Group IDs: \" + pm.collectionVariables.get(\"c_sitegroup_ids\"));",
									"            }",
									"",
									"            if (data.rftemplate_id) {",
									"                pm.collectionVariables.set(\"c_rftemplate_id\", data.rftemplate_id);",
									"                // console.log(\"Setting RF Template ID to \" + pm.collectionVariables.get(\"c_rftemplate_id\"));",
									"            }",
									"",
									"            if (data.secpolicy_id) {",
									"                pm.collectionVariables.set(\"c_secpolicy_id\", data.secpolicy_id);",
									"                // console.log(\"Setting Security Policy ID to \" + pm.collectionVariables.get(\"c_secpolicy_id\"));",
									"            }",
									"",
									"            if (data.alarmtemplate_id) {",
									"                pm.collectionVariables.set(\"c_alarmtemplate_id\", data.alarmtemplate_id);",
									"                // console.log(\"Setting Alarm Template ID to \" + pm.collectionVariables.get(\"c_alarmtemplate_id\"));",
									"            }",
									"",
									"            if (data.networktemplate_id) {",
									"                pm.collectionVariables.set(\"c_networktemplate_id\", data.networktemplate_id);",
									"                // console.log(\"Setting Network Template ID to \" + pm.collectionVariables.get(\"c_networktemplate_id\"));",
									"            }",
									"            ",
									"            foundTemplateSite = true;",
									"        }",
									"    }",
									"} else {",
									"    // If both site_template_id and site_template_name are empty, alert user and fail.",
									"    console.warn(\"Template ID or name not provided.\")",
									"    foundTemplateSite = false;",
									"}",
									"",
									"pm.test(\"Verifying template site exists...\", function(){",
									"    pm.expect(foundTemplateSite).to.eql(true);",
									"});",
									"",
									"if (foundTemplateSite == false) {",
									"    console.info(\"No template found, exiting...\");",
									"    nextRequest = null;",
									"}",
									"",
									"console.info(\"Template site ID:             \" + pm.collectionVariables.get(\"c_site_template_id\"));",
									"console.info(\"Template site name:           \" + pm.collectionVariables.get(\"c_site_template_name\"));",
									"console.info(\"Template site groups:         \" + pm.collectionVariables.get(\"c_sitegroup_ids\"));",
									"console.info(\"Template RF template ID:      \" + pm.collectionVariables.get(\"c_rftemplate_id\"));",
									"console.info(\"Template security policy ID:  \" + pm.collectionVariables.get(\"c_secpolicy_id\"));",
									"console.info(\"Template alarm template ID:   \" + pm.collectionVariables.get(\"c_alarmtemplate_id\"));",
									"console.info(\"Template network template ID: \" + pm.collectionVariables.get(\"c_networktemplate_id\"));",
									"",
									"// Move to the next request",
									"console.log(`setting next request ${nextRequest}`);",
									"postman.setNextRequest(nextRequest);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://{{host}}/api/v1/orgs/:org_id/sites",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orgs",
								":org_id",
								"sites"
							],
							"variable": [
								{
									"key": "org_id",
									"value": "{{org_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "getSiteSettingsFromTemplate_sitecreation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var nextRequest = \"googleGeocode_sitecreation\";",
									"let jsonData = pm.response.json();",
									"",
									"// Remove unique settings from array",
									"delete jsonData.id;",
									"delete jsonData.site_id;",
									"delete jsonData.org_id;",
									"delete jsonData.created_time;",
									"delete jsonData.modified_time;",
									"",
									"// Assign sanitized settings array to collection variable `c_site_template_settings`",
									"pm.collectionVariables.set(\"c_site_template_settings\", JSON.stringify(jsonData));",
									"",
									"console.log(`setting next request ${nextRequest}`);",
									"postman.setNextRequest(nextRequest);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/api/v1/sites/:site_id/setting",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"sites",
								":site_id",
								"setting"
							],
							"variable": [
								{
									"key": "site_id",
									"value": "{{c_site_template_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "googleGeocode_sitecreation",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var encoded = encodeURIComponent(pm.variables.get(\"site_address\") );",
									"pm.collectionVariables.set(\"c_site_address\", encoded);",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.test(\"Status code is 200\", function() {",
									"  pm.expect(pm.response.code).to.equal(200);",
									"});",
									"pm.test(\"Results is not empty\", function() {",
									"  pm.expect(jsonData.results).length >= 1;",
									"});",
									"",
									"",
									"",
									"pm.collectionVariables.set(\"formatted_address\", jsonData.results[0].formatted_address)",
									"pm.collectionVariables.set(\"c_location\", `${parseFloat(jsonData.results[0].geometry.location.lat)},${parseFloat(jsonData.results[0].geometry.location.lng)}`)",
									"pm.collectionVariables.set(\"c_lat\", parseFloat(jsonData.results[0].geometry.location.lat))",
									"pm.collectionVariables.set(\"c_lng\", parseFloat(jsonData.results[0].geometry.location.lng))",
									"",
									"console.log(`location: ${pm.collectionVariables.get('c_location')}`);",
									"",
									"console.log(`lat: ${pm.collectionVariables.get('lat')}`);",
									"console.log(`lng: ${pm.collectionVariables.get('lng')}`);",
									"console.log(`formatted_address: ${pm.collectionVariables.get('formatted_address')}`);",
									"for (var i = 0; i < jsonData.results[0].address_components.length; i++) {",
									"    //console.log(JSON.stringify(jsonData.results[0].address_components[i].types))",
									"    if (jsonData.results[0].address_components[i].types.indexOf(\"country\") > -1) {",
									"        pm.collectionVariables.set(\"c_country_code\", jsonData.results[0].address_components[i].short_name)",
									"        console.log(`CountryCode: ${jsonData.results[0].address_components[i].short_name}`)",
									"        //console.log(\"Found Country Code\")",
									"        }",
									"};",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"connection": true,
							"accept-encoding": true,
							"accept": true,
							"user-agent": true,
							"host": true
						}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://maps.googleapis.com/maps/api/geocode/json?address={{c_site_address}}&key={{google_api_key}}",
							"protocol": "https",
							"host": [
								"maps",
								"googleapis",
								"com"
							],
							"path": [
								"maps",
								"api",
								"geocode",
								"json"
							],
							"query": [
								{
									"key": "address",
									"value": "{{c_site_address}}"
								},
								{
									"key": "key",
									"value": "{{google_api_key}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "gootleTimezone_sitecreation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var nextRequest = \"createOrgSite_sitecreation\";",
									"let jsonData = pm.response.json();",
									"",
									"pm.test(\"TimeZoneID is present\", function() {",
									"    pm.expect(jsonData).to.have.property(\"timeZoneId\");",
									"});",
									"",
									"pm.collectionVariables.set(\"c_time_zone\", jsonData.timeZoneId);",
									"",
									"console.info(\"Timezone: \" + pm.collectionVariables.get(\"c_time_zone\"));",
									"",
									"postman.setNextRequest(nextRequest);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"console.log(`lat: ${pm.collectionVariables.get('lat')}`);",
									"console.log(`lng: ${pm.collectionVariables.get('lng')}`);",
									"console.log(`lng: ${pm.collectionVariables.get('formatted_address')}`);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://maps.googleapis.com/maps/api/timezone/json?location={{c_location}}&timestamp={{$timestamp}}&key={{google_api_key}}",
							"protocol": "https",
							"host": [
								"maps",
								"googleapis",
								"com"
							],
							"path": [
								"maps",
								"api",
								"timezone",
								"json"
							],
							"query": [
								{
									"key": "location",
									"value": "{{c_location}}"
								},
								{
									"key": "timestamp",
									"value": "{{$timestamp}}"
								},
								{
									"key": "key",
									"value": "{{google_api_key}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "createOrgSite_sitecreation",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var nextRequest = \"updateSiteSettings_sitecreation\";",
									"let jsonData = pm.response.json();",
									"",
									"pm.test(\"New site ID is present\", function() {",
									"    pm.expect(jsonData).to.have.property(\"id\");",
									"});",
									"",
									"pm.test(\"New site name matches CSV\", function() {",
									"    pm.expect(jsonData.name).to.equal(pm.collectionVariables.get(\"c_site_name\"));",
									"});",
									"",
									"pm.collectionVariables.set(\"c_site_id\", jsonData.id);",
									"",
									"console.info(\"Created site: \" + jsonData.name);",
									"console.info(\"New ID: \" + jsonData.id);",
									"if (!!pm.collectionVariables.get(\"c_clone\")) {",
									"    nextRequest = \"updateSiteCloning_sitecreation\"",
									"}",
									"",
									"postman.setNextRequest(nextRequest);"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept-encoding": true,
							"connection": true,
							"user-agent": true
						}
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"{{c_site_name}}\",\n    \"timezone\": \"{{c_time_zone}}\",\n    \"country_code\": \"{{c_country_code}}\",\n    \"latlng\": {\n        \"lat\": {{c_lat}},\n        \"lng\": {{c_lng}}\n    },\n    \"address\": \"{{formatted_address}}\",\n    \"sitegroup_ids\": {{c_sitegroup_ids}},\n    \"rftemplate_id\": \"{{c_rftemplate_id}}\",\n    \"secpolicy_id\": \"{{c_secpolicy_id}}\",\n    \"alarmtemplate_id\": \"{{c_alarmtemplate_id}}\",\n    \"networktemplate_id\": \"{{c_networktemplate_id}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/api/v1/orgs/:org_id/sites",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orgs",
								":org_id",
								"sites"
							],
							"variable": [
								{
									"key": "org_id",
									"value": "{{org_id}}"
								}
							]
						},
						"description": "#### Body Parameters\n**Parameter**|**Type**|**Description** \n:-------------: |:-------------: |:-------------: \nname|string|Required. The name of the site\ntimezone|string|Timezone the site is at\ncountry_code|string|country code for the site (for AP config generation), in two-character\nlatlng|latlng|site location\naddress|string|full address of the site\nlat|float|latitude\nlng|float|longitude\nsitegroup_ids|list|sitegroups this site belongs to\nrftemplate_id|string|RF Template ID, this takes precedence over Site Settings\nsecpolicy_id|string|SecPolicy ID\nalarmtemplate_id|string|Alarm Template ID, this takes precedence over the Org-level alarmtemplate_id"
					},
					"response": []
				},
				{
					"name": "updateSiteSettings_sitecreation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"pm.test(\"Status code is 200\", function() {",
									"  pm.expect(pm.response.code).to.equal(200);",
									"});",
									"pm.collectionVariables.unset(\"c_site_id\")",
									"",
									"var nextRequest = null",
									"postman.setNextRequest(nextRequest);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-CSRFToken",
								"type": "text",
								"value": "{{csrftoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/api/v1/sites/:site_id/setting",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"sites",
								":site_id",
								"setting"
							],
							"variable": [
								{
									"key": "site_id",
									"value": "{{c_site_id}}"
								}
							]
						},
						"description": " #### Body Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n analytic.enabled|boolean|enable Advanced Analytic feature, default is false (using SUB-ANA license)\r\n app_waking|boolean|default is false\r\n auto_upgrade|object|auto upgrade\r\n bandwidth|int|channel width for the band, 20 / 40 / 80, 80 is only applicable for band_5\r\n ble_config|object|BLE config (see Site:BLE Config)\r\n ble|object|BLE asset settings\r\n brightness|int|0-255, default is 255\r\n channel|int|(primary) channel for the band, 0 means auto\r\n channels|list|list of channels, null or empty array means auto\r\n device_updown_threshold|int|sending AP_DISCONNECTED event in device-updowns only if AP_CONNECTED is not seen within the threshold, in minutes, 0 - 30, default is 0\r\n flags|list|name/val pair objects for location engine to use\r\n hello_interval|float|in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds\r\n hello_retries|int|between 2 and 30, default is 7\r\n led.enabled|boolean|whether to enable LED, default is true\r\n led|object|LED control\r\n model_specific|object|overwrites for a specific model. If a band is specified, it will shadow the default.\r\n mxtunnel.mtu|int|552-1500, default is 0\r\n ntp_servers|list|list of NTP servers\r\n persist_config_on_device|boolean|whether to store the config on AP, default is false\r\n power_max|int|when power=0, min tx power to use, HW-specific values will be used if not set\r\n power_min|int|when power=0, min tx power to use, HW-specific values will be used if not set\r\n power|int|tx power of the radio, 0 mean auto\r\n preamble|string|short / long / auto, default is short\r\n proxy|object|Proxy Configuration for APs to talk to Mist\r\n radio_config|object|site RF settings\r\n remote_syslog|object|syslog parameters\r\n report_gatt|boolean|default is false; whether AP should periodically connect to BLE devices and report GATT device info (device name, manufacturer name, serial number, battery %, temperature, humidity)\r\n rogue|object|rogue detection parameters\r\n rtsa|object|managed mobility\r\n ssh_keys|list|when limit_ssh_access = true in Org Setting, list of SSH public keys provided by Mist Support to install onto APs (see Org:Setting)\r\n track_anonymous_devices|boolean|default is false; whether to track anonymous BLE assets (requires ‘track_asset’ enabled)\r\n track_asset|boolean|enable Asset Tracking, default is false (using SUB-AST license)\r\n vars|object|a dictionary of name->value, the vars can then be used in Wlans\r\n wifi|object|managed connectivity\r\n\r\n #### Wi-Fi Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|enable WIFI feature, default is true (using SUB-MAN license)\r\n enable_arp_spoof_check|boolean|when proxy_arp is enabled, check for arp spoofing. default is false\r\n enable_channel_144|boolean|whether to enable channel 144 (some older clients may not support in US), default is false\r\n enable_vna|boolean|enable Virtual Network Assistant, default is false (using SUB-VNA license)\r\n proxy_arp|string|default / enabled / disabled\r\n locate_unconnected|boolean|whether to locate unconnected clients, default is false\r\n mesh_enabled|boolean|whether to enable Mesh feature for the site, default is false\r\n disable_11k|boolean|whether to disable 11k, default is false\r\n \r\n #### Remote Syslog Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether or not remote syslog is enabled\r\n servers|list|list of syslog servers\r\n host|string|host to which syslog is sent\r\n protocol|string|udp / tcp, protocol to use for remote syslog, default is udp\r\n port|int|port on which to connect to host for syslog, default is 514 if protocol=udp, 6514 if protocol=tcp\r\n facility|string|kern / user / mail / daemon / auth / syslog / lpr / news / uucp / cron / authpriv / ftp / ntp / security / console / solaris-cron / local0 - local7, default is config\r\n severity|string|emerg / alert / crit / err / warning / notice / info / debug, default is info\r\n tag|string|optional, tag to attach to log record\r\n \r\n #### Rogue Detection Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether or not rogue detection is enabled\r\n honeypot_enabled|boolean|whether or not honeypot detection is enabled\r\n min_rssi|int|minimum RSSI for an AP to be considered rogue (ignoring APs that’s far away), default is -80. Minimum allowed value is -85.\r\n min_duration|int|minimum duration for a bssid to be considered rogue, maximum is 59, default is 10\r\n whitelisted_ssids|list|list of SSIDs to whitelist\r\n whitelisted_bssids|list|list of BSSIDs to whitelist\r\n \r\n #### Auto Upgrade Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether auto upgrade should happen, default is false (Note that Mist may auto-upgrade if the version is not supported)\r\n version|string|desired version, beta / stable / custom, default is stable\r\n time_of_day|string|any / HH:MM (24-hour format), upgrade will happen within up to 1-hour from this time\r\n day_of_week|string|any / mon / tue / wed / thu / fri / sat / sun\r\n custom_versions|object|custome versions for different models\r\n\r\n #### Engagement Parameter\r\n NOTE: if hours does not exist, it’s treated as everyday of the week, 00:00-23:59. Currently we don’t allow multiple ranges for the same day\r\n\r\nNOTE: default values for dwell_tags: passerby (1,300) bounce (301, 14400) engaged (14401, 28800) stationed (28801, 42000)\r\n\r\nNOTE: default values for dwell_tag_names: passerby = “Passerby”, bounce = “Visitor”, engaged = “Associates”, stationed = “Assets”\r\n\r\n\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n dwell_tags|object|add tags to visits within the duration (in seconds), available tags (passerby, bounce, engaged, stationed)\r\n max_dwell|int|max time, default is 43200(12h), max is 68400 (18h)\r\n min_dwell|int|min time, default is 0.\r\n hours|object|hours of operation filter, the available days (mon, tue, wed, thu, fri, sat, sun). Note: If the dow is not defined then it’s treated as 00:00-23:59.\r\n \r\n #### WIDS Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n threshold|int|count of events to trigger\r\nduration|int|window where a trigger will be detected and action to be taken (in seconds)\r\n\r\n #### Tunnel Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n hosts|list|hostnames or IPs where a Mist Tunnel will use as the Peer (i.e. they are reachable from AP)\r\nap_subnets|list|list of subnets where we allow AP to establish Mist Tunnels from\r\nprotocol|list|udp / ip, default is udp\r\nvlan_ids|list|list of vlan_ids that will be used\r\nhello_interval|float|in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds\r\nhello_retries|int|between 2 and 30, default is 7"
					},
					"response": []
				},
				{
					"name": "updateSiteCloning_sitecreation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{{c_site_template_settings}}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/api/v1/sites/:site_id/setting",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"sites",
								":site_id",
								"setting"
							],
							"variable": [
								{
									"key": "site_id",
									"value": "{{c_site_id}}"
								}
							]
						},
						"description": " #### Body Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n analytic.enabled|boolean|enable Advanced Analytic feature, default is false (using SUB-ANA license)\r\n app_waking|boolean|default is false\r\n auto_upgrade|object|auto upgrade\r\n bandwidth|int|channel width for the band, 20 / 40 / 80, 80 is only applicable for band_5\r\n ble_config|object|BLE config (see Site:BLE Config)\r\n ble|object|BLE asset settings\r\n brightness|int|0-255, default is 255\r\n channel|int|(primary) channel for the band, 0 means auto\r\n channels|list|list of channels, null or empty array means auto\r\n device_updown_threshold|int|sending AP_DISCONNECTED event in device-updowns only if AP_CONNECTED is not seen within the threshold, in minutes, 0 - 30, default is 0\r\n flags|list|name/val pair objects for location engine to use\r\n hello_interval|float|in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds\r\n hello_retries|int|between 2 and 30, default is 7\r\n led.enabled|boolean|whether to enable LED, default is true\r\n led|object|LED control\r\n model_specific|object|overwrites for a specific model. If a band is specified, it will shadow the default.\r\n mxtunnel.mtu|int|552-1500, default is 0\r\n ntp_servers|list|list of NTP servers\r\n persist_config_on_device|boolean|whether to store the config on AP, default is false\r\n power_max|int|when power=0, min tx power to use, HW-specific values will be used if not set\r\n power_min|int|when power=0, min tx power to use, HW-specific values will be used if not set\r\n power|int|tx power of the radio, 0 mean auto\r\n preamble|string|short / long / auto, default is short\r\n proxy|object|Proxy Configuration for APs to talk to Mist\r\n radio_config|object|site RF settings\r\n remote_syslog|object|syslog parameters\r\n report_gatt|boolean|default is false; whether AP should periodically connect to BLE devices and report GATT device info (device name, manufacturer name, serial number, battery %, temperature, humidity)\r\n rogue|object|rogue detection parameters\r\n rtsa|object|managed mobility\r\n ssh_keys|list|when limit_ssh_access = true in Org Setting, list of SSH public keys provided by Mist Support to install onto APs (see Org:Setting)\r\n track_anonymous_devices|boolean|default is false; whether to track anonymous BLE assets (requires ‘track_asset’ enabled)\r\n track_asset|boolean|enable Asset Tracking, default is false (using SUB-AST license)\r\n vars|object|a dictionary of name->value, the vars can then be used in Wlans\r\n wifi|object|managed connectivity\r\n\r\n #### Wi-Fi Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|enable WIFI feature, default is true (using SUB-MAN license)\r\n enable_arp_spoof_check|boolean|when proxy_arp is enabled, check for arp spoofing. default is false\r\n enable_channel_144|boolean|whether to enable channel 144 (some older clients may not support in US), default is false\r\n enable_vna|boolean|enable Virtual Network Assistant, default is false (using SUB-VNA license)\r\n proxy_arp|string|default / enabled / disabled\r\n locate_unconnected|boolean|whether to locate unconnected clients, default is false\r\n mesh_enabled|boolean|whether to enable Mesh feature for the site, default is false\r\n disable_11k|boolean|whether to disable 11k, default is false\r\n \r\n #### Remote Syslog Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether or not remote syslog is enabled\r\n servers|list|list of syslog servers\r\n host|string|host to which syslog is sent\r\n protocol|string|udp / tcp, protocol to use for remote syslog, default is udp\r\n port|int|port on which to connect to host for syslog, default is 514 if protocol=udp, 6514 if protocol=tcp\r\n facility|string|kern / user / mail / daemon / auth / syslog / lpr / news / uucp / cron / authpriv / ftp / ntp / security / console / solaris-cron / local0 - local7, default is config\r\n severity|string|emerg / alert / crit / err / warning / notice / info / debug, default is info\r\n tag|string|optional, tag to attach to log record\r\n \r\n #### Rogue Detection Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether or not rogue detection is enabled\r\n honeypot_enabled|boolean|whether or not honeypot detection is enabled\r\n min_rssi|int|minimum RSSI for an AP to be considered rogue (ignoring APs that’s far away), default is -80. Minimum allowed value is -85.\r\n min_duration|int|minimum duration for a bssid to be considered rogue, maximum is 59, default is 10\r\n whitelisted_ssids|list|list of SSIDs to whitelist\r\n whitelisted_bssids|list|list of BSSIDs to whitelist\r\n \r\n #### Auto Upgrade Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether auto upgrade should happen, default is false (Note that Mist may auto-upgrade if the version is not supported)\r\n version|string|desired version, beta / stable / custom, default is stable\r\n time_of_day|string|any / HH:MM (24-hour format), upgrade will happen within up to 1-hour from this time\r\n day_of_week|string|any / mon / tue / wed / thu / fri / sat / sun\r\n custom_versions|object|custome versions for different models\r\n\r\n #### Engagement Parameter\r\n NOTE: if hours does not exist, it’s treated as everyday of the week, 00:00-23:59. Currently we don’t allow multiple ranges for the same day\r\n\r\nNOTE: default values for dwell_tags: passerby (1,300) bounce (301, 14400) engaged (14401, 28800) stationed (28801, 42000)\r\n\r\nNOTE: default values for dwell_tag_names: passerby = “Passerby”, bounce = “Visitor”, engaged = “Associates”, stationed = “Assets”\r\n\r\n\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n dwell_tags|object|add tags to visits within the duration (in seconds), available tags (passerby, bounce, engaged, stationed)\r\n max_dwell|int|max time, default is 43200(12h), max is 68400 (18h)\r\n min_dwell|int|min time, default is 0.\r\n hours|object|hours of operation filter, the available days (mon, tue, wed, thu, fri, sat, sun). Note: If the dow is not defined then it’s treated as 00:00-23:59.\r\n \r\n #### WIDS Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n threshold|int|count of events to trigger\r\nduration|int|window where a trigger will be detected and action to be taken (in seconds)\r\n\r\n #### Tunnel Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n hosts|list|hostnames or IPs where a Mist Tunnel will use as the Peer (i.e. they are reachable from AP)\r\nap_subnets|list|list of subnets where we allow AP to establish Mist Tunnels from\r\nprotocol|list|udp / ip, default is udp\r\nvlan_ids|list|list of vlan_ids that will be used\r\nhello_interval|float|in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds\r\nhello_retries|int|between 2 and 30, default is 7"
					},
					"response": []
				}
			],
			"description": "This collection will use a CSV Template to create multiple sites via the Mist API.\n\nIt also uses a google API to get the lat/long of the address and use the properly formatted address returned from Google Maps.\n\n## Required Environmental Variables:\n\n`apitoken` -  This your Mist dashboard API token.  It should have permissions to create sites in Mist. </br></br>\n\n## Optional Environment Variables\n`google_api_key` This is a google API token that has access to geocode APIs.  If you provide all the geocoding/timezone values, this will not be required.  See Scenario `Skip Geocoding`\n\n\n## CSV Required Values:\n`site_name`</br>\n`site_address` This address should be in quotes in the CSV if it contains commas. </br>\n\n## CSV Optional Values:\n`sitegroup_ids` this should be presented as a JSON list of sitegroup IDs.\n* Example: `[\"xxxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"]`</br></br>\n\n`rftemplate_id` This should be the rftemplate_id you want applied to this site\n* Example: `xxxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx` </br>\n\n`alarmtemplate_id` This should be the alarmtemplate_id you want applied\n* Example: `xxxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx` </br>\n\n## Scenario Options:\n\n### Skip Geocoding:\nIn order to skip geocoding, you must provide the following values in the CSV.  See the example CSV for details on what these should look like\n\n#### Required Values:\n* `lat` this is the site lattitude\n* `lng` this is the site longitude\n* `time_zone` This is the site time_zone\n* `country_code`: The 2 letter country code.\n\n### Clone Existing Site\nIn this scenario, we are going to clone the settings of an existing site, and create a new site with the values passed in.\n\n#### Required Values:\n* `site_template_name` This is the name of the site you want to copy.\n\n### Custom Site Settings:\nYou need to updated the body of `UpdateSiteSettings_sitecreation` to include any custom settings you want the sites created with.\n\n\n## Example CSV:\n\n```\nsite_name,site_address,rftemplate_id,lat,lng,time_zone,country_code,site_template_name,sitegroup_ids,alarmtemplate_id\nSkipGeocoding-Site,\"700 W Jefferson St, Boise, ID 83702\",,43.6178216,-116.1995185,America/Boise,US,,,\nCloning-Site,\"350 State St, Salt Lake City, UT 84103\",,,,,,Jake R Snyder,,\nNormalCreation-Site,\"900 Court St NE, Salem, OR 97301\",,,,,,,,\nSkipGeocoding-Site,\"700 W Jefferson St, Boise, ID 83702\",,43.6178216,-116.1995185,America/Boise,US,,,\nNormalCreation-Site,\"900 Court St NE, Salem, OR 97301\",,,,,,,,\nWashington4,\"416 Sid Snyder Avenue SW, Olympia, Washington 98504\",,,,,,,,\n''000001'',1497 Route 206 Tabernacle NJ 08088,,,,,,,,\n''000001'',1497 Route 206 Tabernacle NJ 08088,,,,,,,,\nNormal Site with RF Template,\"900 Court St NE, Salem, OR 97301\",9f65efea-0535-43af-80e5-f9f7d2bb8917,,,,,,,\nNormal Site with SiteGroup,\"900 Court St NE, Salem, OR 97301\",,,,,,,\"[\"\"31d37657-64c7-4e7d-98d2-1b077160b952\"\"]\",\nNormal Site with AlarmTemplate,\"900 Court St NE, Salem, OR 97301\",,,,,,,,4c4e03b2-5774-430f-8c57-6fbd1251f3df\n```",
			"auth": {
				"type": "apikey",
				"apikey": [
					{
						"key": "value",
						"value": "Token {{apitoken}}",
						"type": "string"
					},
					{
						"key": "key",
						"value": "Authorization",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Inventory Assignment",
			"item": [
				{
					"name": "getOrgInventory_assignment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"var nextRequest = null",
									"",
									"for (var i = 0; i < jsonData.length; i++){",
									"    if (jsonData[i].mac == pm.iterationData.get(\"mac_address\").toLowerCase()){",
									"        pm.collectionVariables.set(\"c_device_id\", jsonData[i].id);",
									"        // console.log(\"id = \" + jsonData[i].id);",
									"    };",
									"};",
									"if (((jsonData.length) == 1) && (!!pm.collectionVariables.get(\"c_device_id\"))) {",
									"    nextRequest = \"getOrgSitesByName_assignment\"",
									"};",
									"",
									"pm.test(\"A single device was found in inventory\", function() {",
									"  pm.expect(jsonData.length).to.eql(1)",
									"});",
									"",
									"postman.setNextRequest(nextRequest);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Ensure all collection variables are removed before running.",
									"pm.collectionVariables.unset(\"c_site_id\");",
									"pm.collectionVariables.unset(\"c_lat\");",
									"pm.collectionVariables.unset(\"c_lng\");",
									"pm.collectionVariables.unset(\"c_time_zone\")",
									"",
									"pm.collectionVariables.unset(\"c_site_name\");",
									"pm.collectionVariables.unset(\"c_site_template_id\");",
									"pm.collectionVariables.unset(\"c_site_template_name\");",
									"pm.collectionVariables.unset(\"c_site_address\");",
									"pm.collectionVariables.set(\"c_sitegroup_ids\", null);",
									"pm.collectionVariables.set(\"c_rftemplate_id\", \"\");",
									"pm.collectionVariables.set(\"c_secpolicy_id\", \"\");",
									"pm.collectionVariables.set(\"c_alarmtemplate_id\", \"\");",
									"pm.collectionVariables.set(\"c_networktemplate_id\", \"\");",
									"pm.collectionVariables.unset(\"c_site_template_settings\");",
									"pm.collectionVariables.unset(\"c_geocode\")",
									"pm.collectionVariables.set(\"c_clone\", false)",
									"pm.collectionVariables.unset(\"country_code\");",
									"pm.collectionVariables.unset(\"formatted_address\");",
									"pm.collectionVariables.unset(\"lat\");",
									"pm.collectionVariables.unset(\"lng\");",
									"pm.collectionVariables.unset(\"time_zone\");",
									"pm.collectionVariables.unset(\"c_device_id\");",
									"pm.collectionVariables.unset(\"no_reassignment_bool\");",
									"pm.collectionVariables.unset(\"mac_address\")",
									"",
									"//Handling of digit only sites with quotes.",
									"var formatted_string = pm.iterationData.get(\"site_name\")",
									"if (formatted_string.includes(\"\\'\") || formatted_string.includes(\"\\\"\")) {",
									"    console.info(\"stripping formatting of site_name\")",
									"    formatted_string = formatted_string.replace(/'/g, \"\");",
									"    formatted_string = formatted_string.replace(/\"/g, \"\");",
									"    console.log(`Formatted Name ${formatted_string}`);",
									"    pm.collectionVariables.set(\"c_site_name\", formatted_string)",
									"}",
									"else {",
									"    pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"site_name\"))",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/api/v1/orgs/:org_id/inventory?mac={{mac_address}}",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orgs",
								":org_id",
								"inventory"
							],
							"query": [
								{
									"key": "mac",
									"value": "{{mac_address}}"
								}
							],
							"variable": [
								{
									"key": "org_id",
									"value": "{{org_id}}"
								}
							]
						},
						"description": "#### Response Parameters\n**Parameter**|**Type**|**Description** \nserial|string|device serial\nmodel|string|device model\ntype|string|device type, ap\nmac|string|MAC address\nname|string|device name if assigned\nid|string|device id\nsite_id|string|site id if assigned, null if not assigned\ndeviceprofile_id|string|deviceprofile id if assigned, null if not assigned\nconnected|boolean|whether the AP is connected\ncreated_time|long|inventory created time, in epoch\nmodified_time|long|inventory last modified time, in epoch\n\n\n#### Query Options\n* Filtered Inventory by\n * model\n * serial\n * magic\n * site_id\n\nExample:\n```\nhttps://{{host}}/api/v1/orgs/:org_id/inventory?model=AP41\n```"
					},
					"response": []
				},
				{
					"name": "getOrgSitesByName_assignment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"var nextRequest = null;",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"for(let i = 0; i < jsonData.length; i++){",
									"    // console.log(jsonData[i].name);",
									"    if(jsonData[i].name == pm.collectionVariables.get(\"c_site_name\")){",
									"        pm.collectionVariables.set(\"c_site_id\", jsonData[i].id);",
									"        console.log(`Matched Site: ${jsonData[i].name}`);",
									"        break;",
									"    }",
									"    else {",
									"        console.info(`Mismatch Site : ${jsonData[i].name}`)",
									"    };",
									"};",
									"",
									"console.info(`Site ID: ${pm.collectionVariables.get(\"c_site_id\")}`);",
									"if (!!pm.collectionVariables.get(\"c_site_id\")) {",
									"    nextRequest = \"assignOrgInventoryToSite_assignment\"",
									"};",
									"",
									"postman.setNextRequest(nextRequest);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/api/v1/orgs/:orgr_id/sites",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orgs",
								":orgr_id",
								"sites"
							],
							"variable": [
								{
									"key": "orgr_id",
									"value": "{{org_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "assignOrgInventoryToSite_assignment",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"no_reassignment_bool\", (pm.iterationData.get(\"no_reassignment\") == \"true\"))",
									"// console.log(\"Site ID = \" + pm.collectionVariables.get(\"c_site_id\"))",
									"// console.log(pm.collectionVariables.get(\"no_reassignment_bool\"))",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.test(\"Verify that error length is 0\", () => {",
									"    pm.expect(jsonData.error.length).to.eql(0);",
									"});",
									"pm.test(\"Verify that success length is 1\", () => {",
									"    pm.expect(jsonData.success.length).to.eql(1);",
									"});",
									"",
									"pm.collectionVariables.unset(\"c_site_id\")",
									"pm.collectionVariables.unset(\"c_device_id\")",
									"pm.collectionVariables.unset(\"mac_address\")",
									"pm.collectionVariables.unset(\"no_reassignment_bool\");",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Accept",
								"type": "text",
								"value": "application/json"
							},
							{
								"key": "X-CSRFToken",
								"type": "text",
								"value": "{{csrftoken}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"op\": \"assign\",\n    \"site_id\": \"{{c_site_id}}\",\n    \"macs\": [\n        \"{{mac_address}}\"\n    ],\n    \"no_reassign\": {{no_reassignment_bool}}\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{host}}/api/v1/orgs/:org_id/inventory",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orgs",
								":org_id",
								"inventory"
							],
							"variable": [
								{
									"key": "org_id",
									"value": "{{org_id}}"
								}
							]
						},
						"description": "#### Body Parameters\n**Parameter**|**Type**|**Description** \n:-------------: |:-------------: |:-------------: \nop|string|Required. assign\nsite_id|string|Required. target site id\nmacs|list|list of MAC, e.g. 5c5b350e0001\nno_reassign|boolean|if true, treat site assignment against an already assigned AP as error"
					},
					"response": []
				}
			],
			"description": "This collection will use a CSV Template to assign multiple devices to a site.\n\n\nRequired Environmental Variables:\n\n`apitoken` -  This your Mist dashboard API token.  It should have permissions to assign inventory to sites in Mist.</br>\n\n`org_id` This is a google API token that has access to geocode APIs.\n\n\nCSV Required Values:\n`site_name`</br>\n`mac_address`</br>\n`no_reassignment` - Should be `true` or `false` - If you want to reassign inventory that is already assigned to a site, select true.  Should be all lower-case, but be warned that excel hates that (use text for cell format).\n\n\n\nExample CSV:\n```\nsite_name,mac_address,no_reassignment\nsite01,aabbccddeeff,false\n```",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Update Sites(Group)",
			"item": [
				{
					"name": "Generic Update Sites",
					"item": [
						{
							"name": "getSiteIDByName_Generic",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"console.log(`Starting Site ${pm.iterationData.get(\"site_name\")}`)",
											"var nextRequest = null",
											"var foundDup = false",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"",
											"",
											"if (!!pm.collectionVariables.get(\"c_site_name\")) {",
											"    console.info(`searching for site ${pm.collectionVariables.get(\"c_site_name\")} `);",
											"    for (var i = 0; i < jsonData.length; i++) {",
											"    if (jsonData[i].name == pm.collectionVariables.get(\"c_site_name\")) {",
											"        pm.collectionVariables.set(\"c_site_id\", jsonData[i].id)",
											"        console.info(\"Found Site\")",
											"        console.info(`Site ID = ${pm.collectionVariables.get(\"c_site_id\")}`)",
											"        nextRequest = \"updateSiteSettings - Generic\"",
											"        }",
											"}",
											"}",
											"else if (!!pm.iterationData.get(\"id\")) {",
											"    pm.collection.set(\"c_site_id\", pm.iterationData.get(\"id\"))",
											"    nextRequest = \"updateSiteSettings - Generic\"",
											"};",
											"",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"",
											"pm.test(\"site_id is set\", function() {",
											"  pm.expect(!!pm.collectionVariables.get(\"c_site_id\"));",
											"});",
											"",
											"console.log(`setting next request ${nextRequest}`);",
											"postman.setNextRequest(nextRequest);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// Ensure all collection variables are removed before running.",
											"pm.collectionVariables.unset(\"c_site_name\");",
											"pm.collectionVariables.unset(\"c_site_id\");",
											"//Handling of digit only sites with quotes.",
											"var formatted_string = pm.iterationData.get(\"site_name\")",
											"if (!!pm.iterationData.get(\"site_name\")) {",
											"    if (formatted_string.includes(\"\\'\") || formatted_string.includes(\"\\\"\")) {",
											"        console.info(\"stripping formatting of site_name\")",
											"        formatted_string = formatted_string.replace(/'/g, \"\");",
											"        formatted_string = formatted_string.replace(/\"/g, \"\");",
											"        console.log(`Formatted Name ${formatted_string}`);",
											"        pm.collectionVariables.set(\"c_site_name\", formatted_string)",
											"    }",
											"    else {",
											"        pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"site_name\"))",
											"    }",
											"}",
											"else if (!!pm.iterationData.get(\"name\")) {",
											"    pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"name\"))",
											"    }",
											"console.info(`Site Name = ${pm.collectionVariables.get(\"c_site_name\")}`)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:orgr_id/sites",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":orgr_id",
										"sites"
									],
									"variable": [
										{
											"key": "orgr_id",
											"value": "{{org_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "updateSiteSettings - Generic",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"function isJson(str) {",
											"    console.info(`PAYLOAD: ${str}`)",
											"    try {",
											"        test = JSON.parse(str);",
											"        console.info(`results: ${test}`)",
											"        return true;",
											"    } catch (e) {",
											"        console.info(\"BAD JSON\")",
											"        return false;",
											"    }",
											"}",
											"",
											"jsonPayload = pm.request.body.toString()",
											"console.info(jsonPayload)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "X-CSRFToken",
										"type": "text",
										"value": "{{csrftoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n \"rtsa\": {\n        \"enabled\": false,\n        \"track_asset\": false\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/setting",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"setting"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										}
									]
								},
								"description": " #### Body Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n analytic.enabled|boolean|enable Advanced Analytic feature, default is false (using SUB-ANA license)\r\n app_waking|boolean|default is false\r\n auto_upgrade|object|auto upgrade\r\n bandwidth|int|channel width for the band, 20 / 40 / 80, 80 is only applicable for band_5\r\n ble_config|object|BLE config (see Site:BLE Config)\r\n ble|object|BLE asset settings\r\n brightness|int|0-255, default is 255\r\n channel|int|(primary) channel for the band, 0 means auto\r\n channels|list|list of channels, null or empty array means auto\r\n device_updown_threshold|int|sending AP_DISCONNECTED event in device-updowns only if AP_CONNECTED is not seen within the threshold, in minutes, 0 - 30, default is 0\r\n flags|list|name/val pair objects for location engine to use\r\n hello_interval|float|in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds\r\n hello_retries|int|between 2 and 30, default is 7\r\n led.enabled|boolean|whether to enable LED, default is true\r\n led|object|LED control\r\n model_specific|object|overwrites for a specific model. If a band is specified, it will shadow the default.\r\n mxtunnel.mtu|int|552-1500, default is 0\r\n ntp_servers|list|list of NTP servers\r\n persist_config_on_device|boolean|whether to store the config on AP, default is false\r\n power_max|int|when power=0, min tx power to use, HW-specific values will be used if not set\r\n power_min|int|when power=0, min tx power to use, HW-specific values will be used if not set\r\n power|int|tx power of the radio, 0 mean auto\r\n preamble|string|short / long / auto, default is short\r\n proxy|object|Proxy Configuration for APs to talk to Mist\r\n radio_config|object|site RF settings\r\n remote_syslog|object|syslog parameters\r\n report_gatt|boolean|default is false; whether AP should periodically connect to BLE devices and report GATT device info (device name, manufacturer name, serial number, battery %, temperature, humidity)\r\n rogue|object|rogue detection parameters\r\n rtsa|object|managed mobility\r\n ssh_keys|list|when limit_ssh_access = true in Org Setting, list of SSH public keys provided by Mist Support to install onto APs (see Org:Setting)\r\n track_anonymous_devices|boolean|default is false; whether to track anonymous BLE assets (requires ‘track_asset’ enabled)\r\n track_asset|boolean|enable Asset Tracking, default is false (using SUB-AST license)\r\n vars|object|a dictionary of name->value, the vars can then be used in Wlans\r\n wifi|object|managed connectivity\r\n\r\n #### Wi-Fi Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|enable WIFI feature, default is true (using SUB-MAN license)\r\n enable_arp_spoof_check|boolean|when proxy_arp is enabled, check for arp spoofing. default is false\r\n enable_channel_144|boolean|whether to enable channel 144 (some older clients may not support in US), default is false\r\n enable_vna|boolean|enable Virtual Network Assistant, default is false (using SUB-VNA license)\r\n proxy_arp|string|default / enabled / disabled\r\n locate_unconnected|boolean|whether to locate unconnected clients, default is false\r\n mesh_enabled|boolean|whether to enable Mesh feature for the site, default is false\r\n disable_11k|boolean|whether to disable 11k, default is false\r\n \r\n #### Remote Syslog Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether or not remote syslog is enabled\r\n servers|list|list of syslog servers\r\n host|string|host to which syslog is sent\r\n protocol|string|udp / tcp, protocol to use for remote syslog, default is udp\r\n port|int|port on which to connect to host for syslog, default is 514 if protocol=udp, 6514 if protocol=tcp\r\n facility|string|kern / user / mail / daemon / auth / syslog / lpr / news / uucp / cron / authpriv / ftp / ntp / security / console / solaris-cron / local0 - local7, default is config\r\n severity|string|emerg / alert / crit / err / warning / notice / info / debug, default is info\r\n tag|string|optional, tag to attach to log record\r\n \r\n #### Rogue Detection Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether or not rogue detection is enabled\r\n honeypot_enabled|boolean|whether or not honeypot detection is enabled\r\n min_rssi|int|minimum RSSI for an AP to be considered rogue (ignoring APs that’s far away), default is -80. Minimum allowed value is -85.\r\n min_duration|int|minimum duration for a bssid to be considered rogue, maximum is 59, default is 10\r\n whitelisted_ssids|list|list of SSIDs to whitelist\r\n whitelisted_bssids|list|list of BSSIDs to whitelist\r\n \r\n #### Auto Upgrade Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether auto upgrade should happen, default is false (Note that Mist may auto-upgrade if the version is not supported)\r\n version|string|desired version, beta / stable / custom, default is stable\r\n time_of_day|string|any / HH:MM (24-hour format), upgrade will happen within up to 1-hour from this time\r\n day_of_week|string|any / mon / tue / wed / thu / fri / sat / sun\r\n custom_versions|object|custome versions for different models\r\n\r\n #### Engagement Parameter\r\n NOTE: if hours does not exist, it’s treated as everyday of the week, 00:00-23:59. Currently we don’t allow multiple ranges for the same day\r\n\r\nNOTE: default values for dwell_tags: passerby (1,300) bounce (301, 14400) engaged (14401, 28800) stationed (28801, 42000)\r\n\r\nNOTE: default values for dwell_tag_names: passerby = “Passerby”, bounce = “Visitor”, engaged = “Associates”, stationed = “Assets”\r\n\r\n\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n dwell_tags|object|add tags to visits within the duration (in seconds), available tags (passerby, bounce, engaged, stationed)\r\n max_dwell|int|max time, default is 43200(12h), max is 68400 (18h)\r\n min_dwell|int|min time, default is 0.\r\n hours|object|hours of operation filter, the available days (mon, tue, wed, thu, fri, sat, sun). Note: If the dow is not defined then it’s treated as 00:00-23:59.\r\n \r\n #### WIDS Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n threshold|int|count of events to trigger\r\nduration|int|window where a trigger will be detected and action to be taken (in seconds)\r\n\r\n #### Tunnel Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n hosts|list|hostnames or IPs where a Mist Tunnel will use as the Peer (i.e. they are reachable from AP)\r\nap_subnets|list|list of subnets where we allow AP to establish Mist Tunnels from\r\nprotocol|list|udp / ip, default is udp\r\nvlan_ids|list|list of vlan_ids that will be used\r\nhello_interval|float|in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds\r\nhello_retries|int|between 2 and 30, default is 7"
							},
							"response": []
						}
					],
					"description": "This collection will iterate through sites and set the payload to the settings you define in the `updateSiteSettings - Generic` API call\n\nYou can source the data from a CSV with `site_name`, or you can run the `getSites - Send and Download` to generate a json payload with all sites.\n\nRequired Environmental Variables:\n`apitoken` This your Mist dashboard API token.  It should have permissions to modify sites\n\n## Required:\n\nEdit the payload of `updateSiteSettings - Generic` to specify the firmware settings you want.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Update Site Templates",
					"item": [
						{
							"name": "getSiteIDByName_Templates",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"console.log(`Starting Site ${pm.iterationData.get(\"site_name\")}`)",
											"var nextRequest = null",
											"var foundDup = false",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"",
											"",
											"if (!!pm.collectionVariables.get(\"c_site_name\")) {",
											"    console.info(`searching for site ${pm.collectionVariables.get(\"c_site_name\")} `);",
											"    for (var i = 0; i < jsonData.length; i++) {",
											"    if (jsonData[i].name == pm.collectionVariables.get(\"c_site_name\")) {",
											"        pm.collectionVariables.set(\"c_site_id\", jsonData[i].id)",
											"        console.info(\"Found Site\")",
											"        console.info(`Site ID = ${pm.collectionVariables.get(\"c_site_id\")}`)",
											"        nextRequest = \"updateSite_Templates\"",
											"        }",
											"}",
											"}",
											"else if (!!pm.iterationData.get(\"id\")) {",
											"    pm.collection.set(\"c_site_id\", pm.iterationData.get(\"id\"))",
											"    nextRequest = \"updateSite_Templates\"",
											"};",
											"",
											"var template_data = {}",
											"",
											"",
											"if(!!pm.iterationData.get(\"networktemplate_id\")){",
											"    template_data[\"networktemplate_id\"] = pm.iterationData.get(\"networktemplate_id\");",
											"};",
											"if(!!pm.iterationData.get(\"alarmtemplate_id\")){",
											"    template_data[\"alarmtemplate_id\"] = pm.iterationData.get(\"alarmtemplate_id\");",
											"};",
											"if(!!pm.iterationData.get(\"rftemplate_id\")){",
											"    template_data[\"rftemplate_id\"] = pm.iterationData.get(\"rftemplate_id\");",
											"};",
											"if(!!pm.iterationData.get(\"secpolicy_id\")){",
											"    template_data[\"secpolicy_id\"] = pm.iterationData.get(\"secpolicy_id\");",
											"};",
											"",
											"pm.collectionVariables.set(\"c_site_template_settings\", JSON.stringify(template_data))",
											"",
											"console.info(JSON.stringify(pm.collectionVariables.get(\"c_site_template_settings\")))",
											"",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"",
											"",
											"",
											"console.log(`setting next request ${nextRequest}`);",
											"postman.setNextRequest(nextRequest);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// Ensure all collection variables are removed before running.",
											"pm.collectionVariables.unset(\"c_site_name\");",
											"pm.collectionVariables.unset(\"c_site_id\");",
											"//Handling of digit only sites with quotes.",
											"var formatted_string = pm.iterationData.get(\"site_name\")",
											"if (!!pm.iterationData.get(\"site_name\")) {",
											"    if (formatted_string.includes(\"\\'\") || formatted_string.includes(\"\\\"\")) {",
											"        console.info(\"stripping formatting of site_name\")",
											"        formatted_string = formatted_string.replace(/'/g, \"\");",
											"        formatted_string = formatted_string.replace(/\"/g, \"\");",
											"        console.log(`Formatted Name ${formatted_string}`);",
											"        pm.collectionVariables.set(\"c_site_name\", formatted_string)",
											"    }",
											"    else {",
											"        pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"site_name\"))",
											"    }",
											"}",
											"else if (!!pm.iterationData.get(\"name\")) {",
											"    pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"name\"))",
											"    }",
											"console.info(`Site Name = ${pm.collectionVariables.get(\"c_site_name\")}`)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:orgr_id/sites",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":orgr_id",
										"sites"
									],
									"variable": [
										{
											"key": "orgr_id",
											"value": "{{org_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "updateSite_Templates",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"var nextRequest = null;",
											"let jsonData = pm.response.json();",
											"",
											"if (!!pm.iterationData.get(\"rftemplate_id\")){",
											"    pm.test(\"rf_template_id is set\", function() {",
											"        pm.expect(pm.iterationData.get(\"rftemplate_id\")).to.equal(jsonData['rftemplate_id']);",
											"    });",
											"}",
											"if (!!pm.iterationData.get(\"networktemplate_id\")){",
											"    pm.test(\"networktemplate_id is set\", function() {",
											"        pm.expect(pm.iterationData.get(\"networktemplate_id\")).to.equal(jsonData['networktemplate_id']);",
											"    });",
											"}",
											"if (!!pm.iterationData.get(\"alarmtemplate_id\")){",
											"    pm.test(\"alarmtemplate_id is set\", function() {",
											"        pm.expect(pm.iterationData.get(\"alarmtemplate_id\")).to.equal(jsonData['alarmtemplate_id']);",
											"    });",
											"}",
											"if (!!pm.iterationData.get(\"secpolicy_id\")){",
											"    pm.test(\"secpolicy_id is set\", function() {",
											"        pm.expect(pm.iterationData.get(\"secpolicy_id\")).to.equal(jsonData['secpolicy_id']);",
											"    });",
											"}",
											"",
											"",
											"",
											"console.info(\"Updated site: \" + jsonData.name);",
											"postman.setNextRequest(nextRequest);"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disabledSystemHeaders": {
									"accept-encoding": true,
									"connection": true,
									"user-agent": true
								}
							},
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{{c_site_template_settings}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										}
									]
								},
								"description": "#### Body Parameters\n**Parameter**|**Type**|**Description** \n:-------------: |:-------------: |:-------------: \nname|string|Required. The name of the site\ntimezone|string|Timezone the site is at\ncountry_code|string|country code for the site (for AP config generation), in two-character\nlatlng|latlng|site location\naddress|string|full address of the site\nlat|float|latitude\nlng|float|longitude\nsitegroup_ids|list|sitegroups this site belongs to\nrftemplate_id|string|RF Template ID, this takes precedence over Site Settings\nsecpolicy_id|string|SecPolicy ID\nalarmtemplate_id|string|Alarm Template ID, this takes precedence over the Org-level alarmtemplate_id"
							},
							"response": []
						}
					],
					"description": "This collection will iterate through site objects in the org and set templates defined in the template.\n\nFor site, please use the `site_name` field.  for the remaining fields, use their respective IDs\n`networktemplate_id`\n`alarmttemplate_id`\n`rftemplate_id`\n\nThere is currently not support for the template name, you will need the ID for the templates.\n\nRequired Environmental Variables:\n`apitoken` This your Mist dashboard API token.  It should have permissions to modify sites\n\n\nExamples CSV:\n```csv\nsite_name,rftemplate_id,networktemplate_id,alarmtemplate_id,secpolicy_id\nIDA,xxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx,,,\n\n```",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Update SLE Metric Threshold",
					"item": [
						{
							"name": "getSiteIDByName_slethreshold",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"console.log(`Starting Site ${pm.iterationData.get(\"site_name\")}`)",
											"var nextRequest = null",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"",
											"// Find site name in list of sites and set c_site_id",
											"if (!!pm.collectionVariables.get(\"c_site_name\")) {",
											"    console.info(`searching for site ${pm.collectionVariables.get(\"c_site_name\")} `);",
											"    for (var i = 0; i < jsonData.length; i++) {",
											"    if (jsonData[i].name == pm.collectionVariables.get(\"c_site_name\")) {",
											"        pm.collectionVariables.set(\"c_site_id\", jsonData[i].id)",
											"        console.info(\"Found Site\")",
											"        console.info(`Site ID = ${pm.collectionVariables.get(\"c_site_id\")}`)",
											"        }",
											"    }",
											"}",
											"// If coming from CSV, site_id is present in the id field.",
											"else if (!!pm.iterationData.get(\"id\")) {",
											"    pm.collection.set(\"c_site_id\", pm.iterationData.get(\"id\"))",
											"};",
											"",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"",
											"pm.test(\"site_id is set\", function() {",
											"  pm.expect(!!pm.collectionVariables.get(\"c_site_id\"));",
											"});",
											"",
											"if (!!pm.iterationData.get(\"coverage_threshold\")) {",
											"    pm.collectionVariables.set(\"c_metric\", \"coverage\")",
											"    nextRequest = \"replaceSiteCoverageThreshold_slethreshold\"",
											"    console.info(\"Setting Coverage as next SLE\")",
											"}",
											"else if (!!pm.iterationData.get(\"capacity_threshold\")) {",
											"    pm.collectionVariables.set(\"c_metric\", \"capacity\")",
											"    nextRequest = \"replaceSiteCapacityThreshold_slethreshold\"",
											"    console.info(\"Setting Capacity as next SLE\")",
											"",
											"}",
											"else if (!!pm.iterationData.get(\"timetoconnect_threshold\")) {",
											"    pm.collectionVariables.set(\"c_metric\", \"time-to-connect\")",
											"    nextRequest = \"replaceSiteTimeToConnectThreshold_slethreshold\"",
											"    console.info(\"Setting TimeToConnect as next SLE\")",
											"",
											"}",
											"else if (!!pm.iterationData.get(\"throughput_threshold\")) {",
											"    pm.collectionVariables.set(\"c_metric\", \"throughput\")",
											"    nextRequest = \"replaceSiteThroughputThreshold_slethreshold\"",
											"    console.info(\"Setting Throughput as next SLE\")",
											"",
											"}",
											"",
											"",
											"",
											"console.log(`setting next request ${nextRequest}`);",
											"postman.setNextRequest(nextRequest);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// Ensure all collection variables are removed before running.",
											"pm.collectionVariables.unset(\"c_site_name\");",
											"pm.collectionVariables.unset(\"c_site_id\");",
											"",
											"//Handling of digit only sites with quotes.",
											"var formatted_string = pm.iterationData.get(\"site_name\")",
											"if (!!pm.iterationData.get(\"site_name\")) {",
											"    if (formatted_string.includes(\"\\'\") || formatted_string.includes(\"\\\"\")) {",
											"        console.info(\"stripping formatting of site_name\")",
											"        formatted_string = formatted_string.replace(/'/g, \"\");",
											"        formatted_string = formatted_string.replace(/\"/g, \"\");",
											"        console.log(`Formatted Name ${formatted_string}`);",
											"        pm.collectionVariables.set(\"c_site_name\", formatted_string)",
											"    }",
											"    else {",
											"        pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"site_name\"))",
											"    }",
											"}",
											"else if (!!pm.iterationData.get(\"name\")) {",
											"    pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"name\"))",
											"    }",
											"console.info(`Site Name = ${pm.collectionVariables.get(\"c_site_name\")}`)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:orgr_id/sites",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":orgr_id",
										"sites"
									],
									"variable": [
										{
											"key": "orgr_id",
											"value": "{{org_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "replaceSiteCoverageThreshold_slethreshold",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var nextRequest = null",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"if (!!pm.iterationData.get(\"capacity_threshold\")) {",
											"    pm.collectionVariables.set(\"c_metric\", \"capacity\")",
											"    nextRequest = \"replaceSiteCapacityThreshold_slethreshold\"",
											"    console.info(\"Setting Capacity as next SLE\")",
											"",
											"}",
											"else if (!!pm.iterationData.get(\"timetoconnect_threshold\")) {",
											"    pm.collectionVariables.set(\"c_metric\", \"time-to-connect\")",
											"    nextRequest = \"replaceSiteTimeToConnectThreshold_slethreshold\"",
											"    console.info(\"Setting TimeToConnect as next SLE\")",
											"",
											"}",
											"else if (!!pm.iterationData.get(\"throughput_threshold\")) {",
											"    pm.collectionVariables.set(\"c_metric\", \"throughput\")",
											"    nextRequest = \"replaceSiteThroughputThreshold_slethreshold\"",
											"    console.info(\"Setting Throughput as next SLE\")",
											"",
											"}",
											"",
											"console.log(`setting next request ${nextRequest}`);",
											"postman.setNextRequest(nextRequest);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"threshold\": {{coverage_threshold}}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/sle/:scope/:scope_id/metric/:metric/threshold",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"sle",
										":scope",
										":scope_id",
										"metric",
										":metric",
										"threshold"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										},
										{
											"key": "scope",
											"value": "site",
											"description": "`site`, `ap` or `client`"
										},
										{
											"key": "scope_id",
											"value": "{{c_site_id}}",
											"description": "site id, ap id or client id"
										},
										{
											"key": "metric",
											"value": "{{c_metric}}",
											"description": "values from /api/v1/sites/{site_id}/sle/{scope}/{scope_id}/metrics"
										}
									]
								},
								"description": "Replace the SLE threshold"
							},
							"response": []
						},
						{
							"name": "replaceSiteCapacityThreshold_slethreshold",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var nextRequest = null",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"if (!!pm.iterationData.get(\"timetoconnect_threshold\")) {",
											"    pm.collectionVariables.set(\"c_metric\", \"time-to-connect\")",
											"    nextRequest = \"replaceSiteTimeToConnectThreshold_slethreshold\"",
											"    console.info(\"Setting TimeToConnect as next SLE\")",
											"",
											"}",
											"else if (!!pm.iterationData.get(\"throughput_threshold\")) {",
											"    pm.collectionVariables.set(\"c_metric\", \"throughput\")",
											"    nextRequest = \"replaceSiteThroughputThreshold_slethreshold\"",
											"    console.info(\"Setting Throughput as next SLE\")",
											"",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"threshold\": {{capacity_threshold}}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/sle/:scope/:scope_id/metric/:metric/threshold",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"sle",
										":scope",
										":scope_id",
										"metric",
										":metric",
										"threshold"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										},
										{
											"key": "scope",
											"value": "site",
											"description": "`site`, `ap` or `client`"
										},
										{
											"key": "scope_id",
											"value": "{{c_site_id}}",
											"description": "site id, ap id or client id"
										},
										{
											"key": "metric",
											"value": "{{c_metric}}",
											"description": "values from /api/v1/sites/{site_id}/sle/{scope}/{scope_id}/metrics\n"
										}
									]
								},
								"description": "Replace the SLE threshold"
							},
							"response": []
						},
						{
							"name": "replaceSiteTimeToConnectThreshold_slethreshold Copy 3",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var nextRequest = null",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"if (!!pm.iterationData.get(\"throughput_threshold\")) {",
											"    pm.collectionVariables.set(\"c_metric\", \"throughput\")",
											"    nextRequest = \"replaceSiteThroughputThreshold_slethreshold\"",
											"    console.info(\"Setting Throughput as next SLE\")",
											"",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"threshold\": {{timetoconnect_threshold}}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/sle/:scope/:scope_id/metric/:metric/threshold",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"sle",
										":scope",
										":scope_id",
										"metric",
										":metric",
										"threshold"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										},
										{
											"key": "scope",
											"value": "site",
											"description": "`site`, `ap` or `client`"
										},
										{
											"key": "scope_id",
											"value": "{{c_site_id}}",
											"description": "site id, ap id or client id"
										},
										{
											"key": "metric",
											"value": "{{c_metric}}",
											"description": "values from /api/v1/sites/{site_id}/sle/{scope}/{scope_id}/metrics\n"
										}
									]
								},
								"description": "Replace the SLE threshold"
							},
							"response": []
						},
						{
							"name": "replaceSiteThroughputThreshold_slethreshold",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var nextRequest = null",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"threshold\": {{throughput_threshold}}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/sle/:scope/:scope_id/metric/:metric/threshold",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"sle",
										":scope",
										":scope_id",
										"metric",
										":metric",
										"threshold"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										},
										{
											"key": "scope",
											"value": "site",
											"description": "`site`, `ap` or `client`"
										},
										{
											"key": "scope_id",
											"value": "{{c_site_id}}",
											"description": "site id, ap id or client id"
										},
										{
											"key": "metric",
											"value": "{{c_metric}}",
											"description": "values from /api/v1/sites/{site_id}/sle/{scope}/{scope_id}/metrics\n"
										}
									]
								},
								"description": "Replace the SLE threshold"
							},
							"response": []
						}
					],
					"description": "This collection will iterate through sites defined in the CSV or JSON source and update the SLE thresholds based on the CSV input.\n\nYou can source the data from a CSV with `site_name`, or you can run the `getSites - Send and Download` to generate a json payload with all sites.\n\nCurrently this only applies to wireless SLEs.  Wired does not have SLEs with threshold settings, and I am still evaluating if WAN SLEs make sense due to the list of applications being difficult to deal with in CSV.\n\n\n## Required Environmental Variables:\n`apitoken` This your Mist dashboard API token.  It should have permissions to modify sites\n\n## Required CSV Values:\n`site_name` this is the name that matches the site you want modified.  This must match exactly.\n\n## Optional CSV Values:\n`coverage_threshold` will set the coverage sle threshold.  Should be a negative integer. Example: -72\n`capacity_threshold` will set the capacity threshold which is a percentage.  Should be an integer value and divisible by 10.  Example: 30\n`timetoconnect_threshold` will set the time to connect threshold.  Should be an integer in seconds.  Example: 2\n`throughput_threshold` will set the throughput threshold.  Should be an integer in Megabits per second.  Should also be divisible by 50.  Example: 55\n\nExample CSV:\n```\nsite_name,coverage_threshold,capcity_threshold,timetoconnect_threshold,throughput_threshold\nMySite,-68,50,2,55\nMySite2,-72,55,2,60\n```",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Set Autoupgrade Firmware",
					"item": [
						{
							"name": "getSiteIDByName_Firmware",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"console.log(`Starting Site ${pm.iterationData.get(\"site_name\")}`)",
											"var nextRequest = null",
											"var foundDup = false",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"",
											"",
											"if (!!pm.collectionVariables.get(\"c_site_name\")) {",
											"    console.info(`searching for site ${pm.collectionVariables.get(\"c_site_name\")} `);",
											"    for (var i = 0; i < jsonData.length; i++) {",
											"    if (jsonData[i].name == pm.collectionVariables.get(\"c_site_name\")) {",
											"        pm.collectionVariables.set(\"c_site_id\", jsonData[i].id)",
											"        console.info(\"Found Site\")",
											"        console.info(`Site ID = ${pm.collectionVariables.get(\"c_site_id\")}`)",
											"        nextRequest = \"updateSiteSettings - Firmware\"",
											"        }",
											"}",
											"}",
											"else if (!!pm.iterationData.get(\"id\")) {",
											"    console.info(\"Found ID Field\")",
											"    pm.collectionVariables.set(\"c_site_id\", pm.iterationData.get(\"id\"))",
											"    nextRequest = \"updateSiteSettings - Firmware\"",
											"};",
											"",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"",
											"pm.test(\"site_id is set\", function() {",
											"  pm.expect(!!pm.collectionVariables.get(\"c_site_id\"));",
											"});",
											"",
											"console.log(`setting next request ${nextRequest}`);",
											"postman.setNextRequest(nextRequest);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// Ensure all collection variables are removed before running.",
											"pm.collectionVariables.unset(\"c_site_name\");",
											"pm.collectionVariables.unset(\"c_site_id\");",
											"",
											"//Handling of digit only sites with quotes.",
											"var formatted_string = pm.iterationData.get(\"site_name\")",
											"if (!!pm.iterationData.get(\"site_name\")) {",
											"    if (formatted_string.includes(\"\\'\") || formatted_string.includes(\"\\\"\")) {",
											"        console.info(\"stripping formatting of site_name\")",
											"        formatted_string = formatted_string.replace(/'/g, \"\");",
											"        formatted_string = formatted_string.replace(/\"/g, \"\");",
											"        console.log(`Formatted Name ${formatted_string}`);",
											"        pm.collectionVariables.set(\"c_site_name\", formatted_string)",
											"    }",
											"    else {",
											"        pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"site_name\"))",
											"    }",
											"}",
											"",
											"console.info(`Site Name = ${pm.collectionVariables.get(\"c_site_name\")}`)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:orgr_id/sites",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":orgr_id",
										"sites"
									],
									"variable": [
										{
											"key": "orgr_id",
											"value": "{{org_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "updateSiteSettings - Firmware",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"console.info(`Site ID = ${pm.collectionVariables.get(\"c_site_id\")}`)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "X-CSRFToken",
										"type": "text",
										"value": "{{csrftoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"auto_upgrade\": {\n        \"enabled\": true,\n        \"version\": \"custom\",\n        \"time_of_day\": \"02:00\",\n        \"custom_versions\": {\n            \"AP43\": \"0.8.21602\",\n            \"AP41\": \"0.8.21602\",\n            \"AP33\": \"0.8.21602\",\n            \"AP12\": \"0.8.21602\"\n        },\n        \"day_of_week\": \"sun\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/setting",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"setting"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										}
									]
								},
								"description": " #### Body Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n analytic.enabled|boolean|enable Advanced Analytic feature, default is false (using SUB-ANA license)\r\n app_waking|boolean|default is false\r\n auto_upgrade|object|auto upgrade\r\n bandwidth|int|channel width for the band, 20 / 40 / 80, 80 is only applicable for band_5\r\n ble_config|object|BLE config (see Site:BLE Config)\r\n ble|object|BLE asset settings\r\n brightness|int|0-255, default is 255\r\n channel|int|(primary) channel for the band, 0 means auto\r\n channels|list|list of channels, null or empty array means auto\r\n device_updown_threshold|int|sending AP_DISCONNECTED event in device-updowns only if AP_CONNECTED is not seen within the threshold, in minutes, 0 - 30, default is 0\r\n flags|list|name/val pair objects for location engine to use\r\n hello_interval|float|in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds\r\n hello_retries|int|between 2 and 30, default is 7\r\n led.enabled|boolean|whether to enable LED, default is true\r\n led|object|LED control\r\n model_specific|object|overwrites for a specific model. If a band is specified, it will shadow the default.\r\n mxtunnel.mtu|int|552-1500, default is 0\r\n ntp_servers|list|list of NTP servers\r\n persist_config_on_device|boolean|whether to store the config on AP, default is false\r\n power_max|int|when power=0, min tx power to use, HW-specific values will be used if not set\r\n power_min|int|when power=0, min tx power to use, HW-specific values will be used if not set\r\n power|int|tx power of the radio, 0 mean auto\r\n preamble|string|short / long / auto, default is short\r\n proxy|object|Proxy Configuration for APs to talk to Mist\r\n radio_config|object|site RF settings\r\n remote_syslog|object|syslog parameters\r\n report_gatt|boolean|default is false; whether AP should periodically connect to BLE devices and report GATT device info (device name, manufacturer name, serial number, battery %, temperature, humidity)\r\n rogue|object|rogue detection parameters\r\n rtsa|object|managed mobility\r\n ssh_keys|list|when limit_ssh_access = true in Org Setting, list of SSH public keys provided by Mist Support to install onto APs (see Org:Setting)\r\n track_anonymous_devices|boolean|default is false; whether to track anonymous BLE assets (requires ‘track_asset’ enabled)\r\n track_asset|boolean|enable Asset Tracking, default is false (using SUB-AST license)\r\n vars|object|a dictionary of name->value, the vars can then be used in Wlans\r\n wifi|object|managed connectivity\r\n\r\n #### Wi-Fi Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|enable WIFI feature, default is true (using SUB-MAN license)\r\n enable_arp_spoof_check|boolean|when proxy_arp is enabled, check for arp spoofing. default is false\r\n enable_channel_144|boolean|whether to enable channel 144 (some older clients may not support in US), default is false\r\n enable_vna|boolean|enable Virtual Network Assistant, default is false (using SUB-VNA license)\r\n proxy_arp|string|default / enabled / disabled\r\n locate_unconnected|boolean|whether to locate unconnected clients, default is false\r\n mesh_enabled|boolean|whether to enable Mesh feature for the site, default is false\r\n disable_11k|boolean|whether to disable 11k, default is false\r\n \r\n #### Remote Syslog Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether or not remote syslog is enabled\r\n servers|list|list of syslog servers\r\n host|string|host to which syslog is sent\r\n protocol|string|udp / tcp, protocol to use for remote syslog, default is udp\r\n port|int|port on which to connect to host for syslog, default is 514 if protocol=udp, 6514 if protocol=tcp\r\n facility|string|kern / user / mail / daemon / auth / syslog / lpr / news / uucp / cron / authpriv / ftp / ntp / security / console / solaris-cron / local0 - local7, default is config\r\n severity|string|emerg / alert / crit / err / warning / notice / info / debug, default is info\r\n tag|string|optional, tag to attach to log record\r\n \r\n #### Rogue Detection Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether or not rogue detection is enabled\r\n honeypot_enabled|boolean|whether or not honeypot detection is enabled\r\n min_rssi|int|minimum RSSI for an AP to be considered rogue (ignoring APs that’s far away), default is -80. Minimum allowed value is -85.\r\n min_duration|int|minimum duration for a bssid to be considered rogue, maximum is 59, default is 10\r\n whitelisted_ssids|list|list of SSIDs to whitelist\r\n whitelisted_bssids|list|list of BSSIDs to whitelist\r\n \r\n #### Auto Upgrade Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether auto upgrade should happen, default is false (Note that Mist may auto-upgrade if the version is not supported)\r\n version|string|desired version, beta / stable / custom, default is stable\r\n time_of_day|string|any / HH:MM (24-hour format), upgrade will happen within up to 1-hour from this time\r\n day_of_week|string|any / mon / tue / wed / thu / fri / sat / sun\r\n custom_versions|object|custome versions for different models\r\n\r\n #### Engagement Parameter\r\n NOTE: if hours does not exist, it’s treated as everyday of the week, 00:00-23:59. Currently we don’t allow multiple ranges for the same day\r\n\r\nNOTE: default values for dwell_tags: passerby (1,300) bounce (301, 14400) engaged (14401, 28800) stationed (28801, 42000)\r\n\r\nNOTE: default values for dwell_tag_names: passerby = “Passerby”, bounce = “Visitor”, engaged = “Associates”, stationed = “Assets”\r\n\r\n\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n dwell_tags|object|add tags to visits within the duration (in seconds), available tags (passerby, bounce, engaged, stationed)\r\n max_dwell|int|max time, default is 43200(12h), max is 68400 (18h)\r\n min_dwell|int|min time, default is 0.\r\n hours|object|hours of operation filter, the available days (mon, tue, wed, thu, fri, sat, sun). Note: If the dow is not defined then it’s treated as 00:00-23:59.\r\n \r\n #### WIDS Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n threshold|int|count of events to trigger\r\nduration|int|window where a trigger will be detected and action to be taken (in seconds)\r\n\r\n #### Tunnel Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n hosts|list|hostnames or IPs where a Mist Tunnel will use as the Peer (i.e. they are reachable from AP)\r\nap_subnets|list|list of subnets where we allow AP to establish Mist Tunnels from\r\nprotocol|list|udp / ip, default is udp\r\nvlan_ids|list|list of vlan_ids that will be used\r\nhello_interval|float|in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds\r\nhello_retries|int|between 2 and 30, default is 7"
							},
							"response": []
						}
					],
					"description": "This collection will iterate through sites and set the payload to the settings you define in the `updateSiteSettings - Firmware` API call\n\nYou can source the data from a CSV with `site_name`, or you can run the `getSites - Send and Download` to generate a json payload with all sites.\n\nRequired Environmental Variables:\n`apitoken` This your Mist dashboard API token.  It should have permissions to create sites\n\n## Required:\n\nEdit the payload of `updateSiteSettings - Firmware` to specify the firmware settings you want.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Add Webhook To Sites",
					"item": [
						{
							"name": "getSiteIDByName_Generic Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"console.log(`Starting Site ${pm.iterationData.get(\"site_name\")}`)",
											"var nextRequest = null",
											"var foundDup = false",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"",
											"",
											"if (!!pm.collectionVariables.get(\"c_site_name\")) {",
											"    console.info(`searching for site ${pm.collectionVariables.get(\"c_site_name\")} `);",
											"    for (var i = 0; i < jsonData.length; i++) {",
											"    if (jsonData[i].name == pm.collectionVariables.get(\"c_site_name\")) {",
											"        pm.collectionVariables.set(\"c_site_id\", jsonData[i].id)",
											"        console.info(\"Found Site\")",
											"        console.info(`Site ID = ${pm.collectionVariables.get(\"c_site_id\")}`)",
											"        nextRequest = \"updateSiteSettings - Generic\"",
											"        }",
											"}",
											"}",
											"else if (!!pm.iterationData.get(\"id\")) {",
											"    pm.collection.set(\"c_site_id\", pm.iterationData.get(\"id\"))",
											"    nextRequest = \"updateSiteSettings - Generic\"",
											"};",
											"",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"",
											"pm.test(\"site_id is set\", function() {",
											"  pm.expect(!!pm.collectionVariables.get(\"c_site_id\"));",
											"});",
											"",
											"console.log(`setting next request ${nextRequest}`);",
											"postman.setNextRequest(nextRequest);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// Ensure all collection variables are removed before running.",
											"pm.collectionVariables.unset(\"c_site_name\");",
											"pm.collectionVariables.unset(\"c_site_id\");",
											"",
											"//Handling of digit only sites with quotes.",
											"var formatted_string = pm.iterationData.get(\"site_name\")",
											"if (!!pm.iterationData.get(\"site_name\")) {",
											"    if (formatted_string.includes(\"\\'\") || formatted_string.includes(\"\\\"\")) {",
											"        console.info(\"stripping formatting of site_name\")",
											"        formatted_string = formatted_string.replace(/'/g, \"\");",
											"        formatted_string = formatted_string.replace(/\"/g, \"\");",
											"        console.log(`Formatted Name ${formatted_string}`);",
											"        pm.collectionVariables.set(\"c_site_name\", formatted_string)",
											"    }",
											"    else {",
											"        pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"site_name\"))",
											"    }",
											"}",
											"console.info(`Site Name = ${pm.collectionVariables.get(\"c_site_name\")}`)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:orgr_id/sites",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":orgr_id",
										"sites"
									],
									"variable": [
										{
											"key": "orgr_id",
											"value": "{{org_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "createSiteWebhook - Webhook",
							"request": {
								"method": "POST",
								"header": [
									{
										"type": "text",
										"key": "Accept",
										"value": "application/json"
									},
									{
										"value": "{{csrftoken}}",
										"key": "X-CSRFToken",
										"type": "text"
									},
									{
										"value": "application/json",
										"key": "Content-Type",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"analytic\",\n   \"type\": \"http-post\",\n    \"url\": \"https://username:password@hooks.abc.com/uri/...\",\n    \"secret\": \"secret\",\n    \"headers\":{\n        \"x-custom-1\": \"your_custom_header_value1\",\n        \"x-custom-2\": \"your_custom_header_value2\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/webhooks",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"webhooks"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										}
									]
								},
								"description": " #### Body Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n name|string|name of the webhook\r\n enabled|boolean|whether webhook is enabled\r\n topics|list|list of subscribed topics: location/zone/vbeacon/rssizone/asset-raw/device-events/alarms/audits/client-sessions\r\n type|string|http-post (default) / splunk / google-pubsub / aws-sns\r\n url|string|url\r\n headers|object|custom headers: the headers name and value must be string, total bytes of headers name and value must be less than 1000\r\n secret|string|optional, when type=http-post, if provided, X-Mist-Signature in HTTP header will be the signature of HMAC_SHA1(secret, body)\r\n verify_cert|boolean|when url uses HTTPS, whether to verify the certificate, default is false\r\n\r\n* If headers format is invalid, “X-Mist-Error”: “headers format invalid” will be sent.\r\n* If total bytes of headers exceed 1000, “X-Mist-Error”: “headers too big” will be sent.\r\n* If any header value is not string, “X-Mist-Error”: “header[%s] not a string” will be sent."
							},
							"response": []
						}
					],
					"description": "This collection will use a the exported JSON payload of all sites to push a site webhook to each site.\nIt will not replace a webhook if it exists today.\n\nTo start, run the `getSites - Send and Download` to generate a json payload with all sites.\n\nRequired Environmental Variables:\n`apitoken` This your Mist dashboard API token.  It should have permissions to create sites\n\n\nEdit the payload of `updateSiteSettings - Webhook` to the webhook settings you want to use.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Manage Site Variables",
					"item": [
						{
							"name": "getSiteIDByName_sitevars",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"console.log(`Starting Site ${pm.iterationData.get(\"site_name\")}`)",
											"var nextRequest = null",
											"var foundDup = false",
											"var jsonData = JSON.parse(responseBody);",
											"",
											"",
											"",
											"if (!!pm.collectionVariables.get(\"c_site_name\")) {",
											"    console.info(`searching for site ${pm.collectionVariables.get(\"c_site_name\")} `);",
											"    for (var i = 0; i < jsonData.length; i++) {",
											"    if (jsonData[i].name == pm.collectionVariables.get(\"c_site_name\")) {",
											"        pm.collectionVariables.set(\"c_site_id\", jsonData[i].id)",
											"        console.info(\"Found Site\")",
											"        console.info(`Site ID = ${pm.collectionVariables.get(\"c_site_id\")}`)",
											"        nextRequest = \"getSiteSettings_sitevars\"",
											"        }",
											"    }",
											"}",
											"else if (!!pm.iterationData.get(\"id\")) {",
											"    pm.collection.set(\"c_site_id\", pm.iterationData.get(\"id\"))",
											"    nextRequest = \"updateSiteSettings - Generic\"",
											"};",
											"",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"",
											"pm.test(\"site_id is set\", function() {",
											"  pm.expect(!!pm.collectionVariables.get(\"c_site_id\"));",
											"});",
											"",
											"console.log(`setting next request ${nextRequest}`);",
											"postman.setNextRequest(nextRequest);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// Ensure all collection variables are removed before running.",
											"pm.collectionVariables.unset(\"c_site_name\");",
											"pm.collectionVariables.unset(\"c_site_id\");",
											"//Handling of digit only sites with quotes.",
											"var formatted_string = pm.iterationData.get(\"site_name\")",
											"if (!!pm.iterationData.get(\"site_name\")) {",
											"    if (formatted_string.includes(\"\\'\") || formatted_string.includes(\"\\\"\")) {",
											"        console.info(\"stripping formatting of site_name\")",
											"        formatted_string = formatted_string.replace(/'/g, \"\");",
											"        formatted_string = formatted_string.replace(/\"/g, \"\");",
											"        console.log(`Formatted Name ${formatted_string}`);",
											"        pm.collectionVariables.set(\"c_site_name\", formatted_string)",
											"    }",
											"    else {",
											"        pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"site_name\"))",
											"    }",
											"}",
											"else if (!!pm.iterationData.get(\"name\")) {",
											"    pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"name\"))",
											"    }",
											"console.info(`Site Name = ${pm.collectionVariables.get(\"c_site_name\")}`)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:orgr_id/sites",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":orgr_id",
										"sites"
									],
									"variable": [
										{
											"key": "orgr_id",
											"value": "{{org_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "getSiteSettings_sitevars",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"",
											"existing_vars = {}",
											"if (\"vars\" in jsonData) {",
											"    if (!!jsonData['vars']) {",
											"        for (const key in jsonData['vars']) {",
											"            existing_vars[key] = jsonData['vars'][key]",
											"        }",
											"    }",
											"}",
											"pm.collectionVariables.set(\"c_existing_vars\", JSON.stringify(existing_vars))",
											"csv_data = pm.iterationData.toObject()",
											"",
											"for (const key in csv_data) {",
											"    console.info(`Key: ${key} Value: ${csv_data[key]}`)",
											"    if (key != \"site_name\" & !!csv_data[key]) {",
											"        existing_vars[key] = csv_data[key]",
											"    }",
											"    else if (key != \"site_name\" & !!existing_vars[key]){",
											"        if (key in existing_vars) {",
											"            delete existing_vars[key]",
											"        }",
											"    }",
											"}",
											"",
											"pm.collectionVariables.set(\"c_sitevars\", JSON.stringify(existing_vars))",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/setting",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"setting"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}",
											"type": "string"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "updateSiteSettings_sitevars",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"function isJson(str) {",
											"    console.info(`PAYLOAD: ${str}`)",
											"    try {",
											"        test = JSON.parse(str);",
											"        console.info(`results: ${test}`)",
											"        return true;",
											"    } catch (e) {",
											"        console.info(\"BAD JSON\")",
											"        return false;",
											"    }",
											"}",
											"",
											"jsonPayload = pm.request.body.toString()",
											"console.info(jsonPayload)"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "X-CSRFToken",
										"type": "text",
										"value": "{{csrftoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"vars\": {{c_sitevars}}\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/setting",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"setting"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										}
									]
								},
								"description": " #### Body Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n analytic.enabled|boolean|enable Advanced Analytic feature, default is false (using SUB-ANA license)\r\n app_waking|boolean|default is false\r\n auto_upgrade|object|auto upgrade\r\n bandwidth|int|channel width for the band, 20 / 40 / 80, 80 is only applicable for band_5\r\n ble_config|object|BLE config (see Site:BLE Config)\r\n ble|object|BLE asset settings\r\n brightness|int|0-255, default is 255\r\n channel|int|(primary) channel for the band, 0 means auto\r\n channels|list|list of channels, null or empty array means auto\r\n device_updown_threshold|int|sending AP_DISCONNECTED event in device-updowns only if AP_CONNECTED is not seen within the threshold, in minutes, 0 - 30, default is 0\r\n flags|list|name/val pair objects for location engine to use\r\n hello_interval|float|in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds\r\n hello_retries|int|between 2 and 30, default is 7\r\n led.enabled|boolean|whether to enable LED, default is true\r\n led|object|LED control\r\n model_specific|object|overwrites for a specific model. If a band is specified, it will shadow the default.\r\n mxtunnel.mtu|int|552-1500, default is 0\r\n ntp_servers|list|list of NTP servers\r\n persist_config_on_device|boolean|whether to store the config on AP, default is false\r\n power_max|int|when power=0, min tx power to use, HW-specific values will be used if not set\r\n power_min|int|when power=0, min tx power to use, HW-specific values will be used if not set\r\n power|int|tx power of the radio, 0 mean auto\r\n preamble|string|short / long / auto, default is short\r\n proxy|object|Proxy Configuration for APs to talk to Mist\r\n radio_config|object|site RF settings\r\n remote_syslog|object|syslog parameters\r\n report_gatt|boolean|default is false; whether AP should periodically connect to BLE devices and report GATT device info (device name, manufacturer name, serial number, battery %, temperature, humidity)\r\n rogue|object|rogue detection parameters\r\n rtsa|object|managed mobility\r\n ssh_keys|list|when limit_ssh_access = true in Org Setting, list of SSH public keys provided by Mist Support to install onto APs (see Org:Setting)\r\n track_anonymous_devices|boolean|default is false; whether to track anonymous BLE assets (requires ‘track_asset’ enabled)\r\n track_asset|boolean|enable Asset Tracking, default is false (using SUB-AST license)\r\n vars|object|a dictionary of name->value, the vars can then be used in Wlans\r\n wifi|object|managed connectivity\r\n\r\n #### Wi-Fi Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|enable WIFI feature, default is true (using SUB-MAN license)\r\n enable_arp_spoof_check|boolean|when proxy_arp is enabled, check for arp spoofing. default is false\r\n enable_channel_144|boolean|whether to enable channel 144 (some older clients may not support in US), default is false\r\n enable_vna|boolean|enable Virtual Network Assistant, default is false (using SUB-VNA license)\r\n proxy_arp|string|default / enabled / disabled\r\n locate_unconnected|boolean|whether to locate unconnected clients, default is false\r\n mesh_enabled|boolean|whether to enable Mesh feature for the site, default is false\r\n disable_11k|boolean|whether to disable 11k, default is false\r\n \r\n #### Remote Syslog Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether or not remote syslog is enabled\r\n servers|list|list of syslog servers\r\n host|string|host to which syslog is sent\r\n protocol|string|udp / tcp, protocol to use for remote syslog, default is udp\r\n port|int|port on which to connect to host for syslog, default is 514 if protocol=udp, 6514 if protocol=tcp\r\n facility|string|kern / user / mail / daemon / auth / syslog / lpr / news / uucp / cron / authpriv / ftp / ntp / security / console / solaris-cron / local0 - local7, default is config\r\n severity|string|emerg / alert / crit / err / warning / notice / info / debug, default is info\r\n tag|string|optional, tag to attach to log record\r\n \r\n #### Rogue Detection Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether or not rogue detection is enabled\r\n honeypot_enabled|boolean|whether or not honeypot detection is enabled\r\n min_rssi|int|minimum RSSI for an AP to be considered rogue (ignoring APs that’s far away), default is -80. Minimum allowed value is -85.\r\n min_duration|int|minimum duration for a bssid to be considered rogue, maximum is 59, default is 10\r\n whitelisted_ssids|list|list of SSIDs to whitelist\r\n whitelisted_bssids|list|list of BSSIDs to whitelist\r\n \r\n #### Auto Upgrade Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n enabled|boolean|whether auto upgrade should happen, default is false (Note that Mist may auto-upgrade if the version is not supported)\r\n version|string|desired version, beta / stable / custom, default is stable\r\n time_of_day|string|any / HH:MM (24-hour format), upgrade will happen within up to 1-hour from this time\r\n day_of_week|string|any / mon / tue / wed / thu / fri / sat / sun\r\n custom_versions|object|custome versions for different models\r\n\r\n #### Engagement Parameter\r\n NOTE: if hours does not exist, it’s treated as everyday of the week, 00:00-23:59. Currently we don’t allow multiple ranges for the same day\r\n\r\nNOTE: default values for dwell_tags: passerby (1,300) bounce (301, 14400) engaged (14401, 28800) stationed (28801, 42000)\r\n\r\nNOTE: default values for dwell_tag_names: passerby = “Passerby”, bounce = “Visitor”, engaged = “Associates”, stationed = “Assets”\r\n\r\n\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n dwell_tags|object|add tags to visits within the duration (in seconds), available tags (passerby, bounce, engaged, stationed)\r\n max_dwell|int|max time, default is 43200(12h), max is 68400 (18h)\r\n min_dwell|int|min time, default is 0.\r\n hours|object|hours of operation filter, the available days (mon, tue, wed, thu, fri, sat, sun). Note: If the dow is not defined then it’s treated as 00:00-23:59.\r\n \r\n #### WIDS Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n threshold|int|count of events to trigger\r\nduration|int|window where a trigger will be detected and action to be taken (in seconds)\r\n\r\n #### Tunnel Parameter\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n hosts|list|hostnames or IPs where a Mist Tunnel will use as the Peer (i.e. they are reachable from AP)\r\nap_subnets|list|list of subnets where we allow AP to establish Mist Tunnels from\r\nprotocol|list|udp / ip, default is udp\r\nvlan_ids|list|list of vlan_ids that will be used\r\nhello_interval|float|in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds\r\nhello_retries|int|between 2 and 30, default is 7"
							},
							"response": []
						}
					],
					"description": "This collection will iterate through sites and set site variables according to the CSV.\n\nYou can source the data from a CSV with `site_name`. You cannot run this from CSV, as we expect to only find `site_name` and the site variables. Every field that is NOT `site_name` will be created as a variable.\n\n## Required Environmental Variables:\n\n`apitoken` This your Mist dashboard API token. It should have permissions to modify sites\n\n## Existing site variables:\n\nExisting Site variables will be left alone. The logic is such that if you don't define a site variable in your CSV and that site variable exists on the site, it will remain after the runner is finished.\n\n## Deleting Site Variables:\n\nIf you include the site variable column on the spreadsheet but leave the value blank, the runner will remove it from the output.\n\n## Example CSV\n\nThis CSV would set values for 2 sites:  \nJakeLab: {\"test1\": \"1.1.1.1\", \"test2\": 4, \"test3\": \"test\"}  \nTestSite2: {\"test1\": \"2.2.2.2\", \"test2\": 5}\n\n```\nsite_name,test1,test2,test3\nJakeLab,1.1.1.1,4,test\nTestSite2,2.2.2.2,5,\n\n\n```",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Delete Sites",
					"item": [
						{
							"name": "getOrgSitesByName_delete",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"for(let i = 0; i < jsonData.length; i++){",
											"if(jsonData[i].name == pm.variables.get(\"site_name\")){",
											"    pm.collectionVariables.set(\"site_id\", jsonData[i].id);",
											"};",
											"};",
											"areYouSure = pm.variables.get(\"areYouSure\")",
											"if (areYouSure != \"true\"){",
											"     nextRequest = null",
											"};"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:orgr_id/sites",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":orgr_id",
										"sites"
									],
									"variable": [
										{
											"key": "orgr_id",
											"value": "{{org_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "deleteSite",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"",
											"pm.collectionVariables.unset(\"site_address\")",
											"pm.collectionVariables.unset(\"lat\")",
											"pm.collectionVariables.unset(\"lng\")",
											"pm.collectionVariables.unset(\"formatted_address\")",
											"pm.collectionVariables.unset(\"time_zone\")",
											"pm.collectionVariables.unset(\"device_id\")"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disabledSystemHeaders": {
									"accept-encoding": true,
									"connection": true,
									"user-agent": true
								}
							},
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"type": "text",
										"value": "Token {{apitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{site_id}}"
										}
									]
								},
								"description": "#### Body Parameters\n**Parameter**|**Type**|**Description** \n:-------------: |:-------------: |:-------------: \nname|string|Required. The name of the site\ntimezone|string|Timezone the site is at\ncountry_code|string|country code for the site (for AP config generation), in two-character\nlatlng|latlng|site location\naddress|string|full address of the site\nlat|float|latitude\nlng|float|longitude\nsitegroup_ids|list|sitegroups this site belongs to\nrftemplate_id|string|RF Template ID, this takes precedence over Site Settings\nsecpolicy_id|string|SecPolicy ID\nalarmtemplate_id|string|Alarm Template ID, this takes precedence over the Org-level alarmtemplate_id"
							},
							"response": []
						}
					],
					"description": "This collection will use a CSV Template to delete multiple sites via the Mist API.\n\nIt also uses a google API to get the lat/long of the address and use the properly formatted address returned from Google Maps.\n\n\nRequired Environmental Variables:\n\n`apitoken` This your Mist dashboard API token.  It should have permissions to create sites\n{{google_api_token}} This is a google API token that has access to geocode APIs.</br>\n`areYouSure` This is something you must set in your environment or the delete function will not proceed.  Make sure you clear this variable when you are done.\n\n\nCSV Required Values:\n`site_name`\n\nExample CSV:\n\nsite_name,site_address,site_groups,rf_template_id\n```\nAdonis,\"5592+S+Adonis+Pl,+Boise,+ID+83716\",xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx,xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\n```",
					"auth": {
						"type": "apikey",
						"apikey": [
							{
								"key": "value",
								"value": "Token {{apitoken}}",
								"type": "string"
							},
							{
								"key": "key",
								"value": "Authorization",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "getSites - Send And Download",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://{{host}}/api/v1/orgs/:orgr_id/sites",
							"protocol": "https",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"v1",
								"orgs",
								":orgr_id",
								"sites"
							],
							"variable": [
								{
									"key": "orgr_id",
									"value": "{{org_id}}"
								}
							]
						}
					},
					"response": []
				}
			],
			"description": "For each of the bulk-site actions, you will need to run the \"getSites - Send and Download\" action first, and perform the send/download.  This will create a json file that contains all the sites for runner to iterate through.\n\nRequired Environment Variables:</br>\n`apitoken` </br></br>\n`org_id`",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Update Devices(Group)",
			"item": [
				{
					"name": "Device Naming",
					"item": [
						{
							"name": "getOrgInventory_Naming",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"proceedCheck = true",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"if (jsonData.length != 1) {",
											"        console.log(`Did not find exactly 1 device, Found ${jsonData.length}`)",
											"        proceedCheck = false",
											"        };",
											"pm.test(\"Results length > 0\", function() {",
											"  pm.expect(jsonData.length).to.equal(1);",
											"});",
											"",
											"",
											"if (proceedCheck == false){",
											"     nextRequest = null;",
											"     postman.setNextRequest(nextRequest);",
											"};",
											"",
											"pm.collectionVariables.set(\"c_device_id\", jsonData[0].id);",
											"pm.collectionVariables.set(\"c_site_id\", jsonData[0].site_id);",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:org_id/inventory?mac={{mac_address}}",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":org_id",
										"inventory"
									],
									"query": [
										{
											"key": "mac",
											"value": "{{mac_address}}"
										}
									],
									"variable": [
										{
											"key": "org_id",
											"value": "{{org_id}}"
										}
									]
								},
								"description": "#### Response Parameters\n**Parameter**|**Type**|**Description** \nserial|string|device serial\nmodel|string|device model\ntype|string|device type, ap\nmac|string|MAC address\nname|string|device name if assigned\nid|string|device id\nsite_id|string|site id if assigned, null if not assigned\ndeviceprofile_id|string|deviceprofile id if assigned, null if not assigned\nconnected|boolean|whether the AP is connected\ncreated_time|long|inventory created time, in epoch\nmodified_time|long|inventory last modified time, in epoch\n\n\n#### Query Options\n* Filtered Inventory by\n * model\n * serial\n * magic\n * site_id\n\nExample:\n```\nhttps://{{host}}/api/v1/orgs/:org_id/inventory?model=AP41\n```"
							},
							"response": []
						},
						{
							"name": "renameDevice",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"pm.test(\"Response Shows Name set\", function() {",
											"    pm.expect(jsonData.name == pm.variables.get(\"device_name\"))",
											"});",
											"",
											"",
											"pm.collectionVariables.unset(\"c_device_id\");",
											"pm.collectionVariables.unset(\"c_site_id\");",
											"pm.collectionVariables.unset(\"device_id\")",
											"pm.collectionVariables.unset(\"site_id\")",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"{{device_name}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/devices/:device_id",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"devices",
										":device_id"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										},
										{
											"key": "device_id",
											"value": "{{c_device_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "This collection will use a CSV Template to rename multiple devices in an org.\n\n\nRequired Environmental Variables:\n\n{{apitoken}} This your Mist dashboard API token.  It should have permissions to create sites\n{{org_id}} This is your Mist org_id, it's required to know which org to pull the current inventory from.\n\n\nCSV Required Values:\nmac_address - This is the mac address for the device you wish to name.\ndevice_name - This is the new name you wish for the device to be.\n\n\n\n\nExample CSV:\n\n```\ndevice_name,mac_address\nJakeAP43, aabbccddeeff\nRyanAP43, bbccddeeff11\n```",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Device Management",
					"item": [
						{
							"name": "getOrgInventory_management",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"proceedCheck = true",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"if (jsonData.length != 1) {",
											"        console.log(`Did not find exactly 1 device, Found ${jsonData.length}`)",
											"        proceedCheck = false",
											"        };",
											"pm.test(\"Results length > 0\", function() {",
											"  pm.expect(jsonData.length).to.equal(1);",
											"});",
											"",
											"",
											"if (proceedCheck == false){",
											"     nextRequest = null;",
											"     postman.setNextRequest(nextRequest);",
											"};",
											"",
											"pm.collectionVariables.set(\"c_device_id\", jsonData[0].id);",
											"pm.collectionVariables.set(\"c_site_id\", jsonData[0].site_id);",
											"",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.collectionVariables.unset(\"c_device_id\",);",
											"pm.collectionVariables.unset(\"c_site_id\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:org_id/inventory?mac={{mac_address}}",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":org_id",
										"inventory"
									],
									"query": [
										{
											"key": "mac",
											"value": "{{mac_address}}"
										}
									],
									"variable": [
										{
											"key": "org_id",
											"value": "{{org_id}}"
										}
									]
								},
								"description": "#### Response Parameters\n**Parameter**|**Type**|**Description** \nserial|string|device serial\nmodel|string|device model\ntype|string|device type, ap\nmac|string|MAC address\nname|string|device name if assigned\nid|string|device id\nsite_id|string|site id if assigned, null if not assigned\ndeviceprofile_id|string|deviceprofile id if assigned, null if not assigned\nconnected|boolean|whether the AP is connected\ncreated_time|long|inventory created time, in epoch\nmodified_time|long|inventory last modified time, in epoch\n\n\n#### Query Options\n* Filtered Inventory by\n * model\n * serial\n * magic\n * site_id\n\nExample:\n```\nhttps://{{host}}/api/v1/orgs/:org_id/inventory?model=AP41\n```"
							},
							"response": []
						},
						{
							"name": "updateDevice_management",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"pm.test(\"Response Shows Name set\", function() {",
											"    pm.expect(jsonData.name == pm.variables.get(\"device_name\"))",
											"});",
											"",
											"",
											"pm.collectionVariables.unset(\"c_device_id\");",
											"pm.collectionVariables.unset(\"c_site_id\");",
											"pm.collectionVariables.unset(\"device_id\")",
											"pm.collectionVariables.unset(\"site_id\")",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"management\": {{device_management}}\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/devices/:device_id",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"devices",
										":device_id"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										},
										{
											"key": "device_id",
											"value": "{{c_device_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "This collection will use a CSV Template to flip the management of multiple devices in an org.\n\n\n# Required Environmental Variables:\n\n`apitoken` This your Mist dashboard API token.  It should have permissions to create sites\n`org_id` This is your Mist org_id, it's required to know which org to pull the current inventory from.\n\n\n## CSV Required Values:\n`mac_address` - This is the mac address for the device you wish to name.\n\n`management` - this is true/false on whether Mist is managing the configuration on this device.  Applies to Switches and Gateways only.\n\n\n\n\nExample CSV:\n\n```\nmac_address,management\naabbccddeeff,true\nbbccddeeff11,false\n```",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Device Notes",
					"item": [
						{
							"name": "getOrgInventory_Notes",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"proceedCheck = true",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"if (jsonData.length != 1) {",
											"        console.log(`Did not find exactly 1 device, Found ${jsonData.length}`)",
											"        proceedCheck = false",
											"        };",
											"pm.test(\"Results length > 0\", function() {",
											"  pm.expect(jsonData.length).to.equal(1);",
											"});",
											"",
											"",
											"if (proceedCheck == false){",
											"     nextRequest = null;",
											"     postman.setNextRequest(nextRequest);",
											"};",
											"",
											"pm.collectionVariables.set(\"c_device_id\", jsonData[0].id);",
											"pm.collectionVariables.set(\"c_site_id\", jsonData[0].site_id);",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:org_id/inventory?mac={{mac_address}}",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":org_id",
										"inventory"
									],
									"query": [
										{
											"key": "mac",
											"value": "{{mac_address}}"
										}
									],
									"variable": [
										{
											"key": "org_id",
											"value": "{{org_id}}"
										}
									]
								},
								"description": "#### Response Parameters\n**Parameter**|**Type**|**Description** \nserial|string|device serial\nmodel|string|device model\ntype|string|device type, ap\nmac|string|MAC address\nname|string|device name if assigned\nid|string|device id\nsite_id|string|site id if assigned, null if not assigned\ndeviceprofile_id|string|deviceprofile id if assigned, null if not assigned\nconnected|boolean|whether the AP is connected\ncreated_time|long|inventory created time, in epoch\nmodified_time|long|inventory last modified time, in epoch\n\n\n#### Query Options\n* Filtered Inventory by\n * model\n * serial\n * magic\n * site_id\n\nExample:\n```\nhttps://{{host}}/api/v1/orgs/:org_id/inventory?model=AP41\n```"
							},
							"response": []
						},
						{
							"name": "updateNotes",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"pm.test(\"Response Shows Notes set\", function() {",
											"    pm.expect(jsonData.notes == pm.variables.get(\"notes\"))",
											"});",
											"",
											"",
											"pm.collectionVariables.unset(\"c_device_id\");",
											"pm.collectionVariables.unset(\"c_site_id\");",
											"pm.collectionVariables.unset(\"device_id\")",
											"pm.collectionVariables.unset(\"site_id\")",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"notes\": \"{{notes}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/devices/:device_id",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"devices",
										":device_id"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										},
										{
											"key": "device_id",
											"value": "{{c_device_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "This collection will use a CSV Template to set the notes on multiple devices in an org.\n\n\nRequired Environmental Variables:\n\n`apitoken` This your Mist dashboard API token.  It should have permissions to create sites.\n\n`org_id` This is your Mist org_id, it's required to know which org to pull the current inventory from.\n\n\nCSV Required Values:\n`mac_address` - This is the mac address for the device you wish to name.\n\n`notes` - This is the new name you wish for the device to be.\n\n\n\n\nExample CSV:\n\n```\nmac_address,notes\naabbccddeeff,\"This is the notes i want to include\"\nbbccddeeff11,\"This are notes for another ap\"\n```",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Device IP",
					"item": [
						{
							"name": "getOrgInventory_IP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"proceedCheck = true",
											"pm.test(\"Status code is 200\", function() {",
											"  pm.expect(pm.response.code).to.equal(200);",
											"});",
											"if (jsonData.length != 1) {",
											"        console.log(`Did not find exactly 1 device, Found ${jsonData.length}`)",
											"        proceedCheck = false",
											"        };",
											"pm.test(\"Results length > 0\", function() {",
											"  pm.expect(jsonData.length).to.equal(1);",
											"});",
											"",
											"",
											"if (proceedCheck == false){",
											"     nextRequest = null;",
											"     postman.setNextRequest(nextRequest);",
											"};",
											"",
											"pm.collectionVariables.set(\"c_device_id\", jsonData[0].id);",
											"pm.collectionVariables.set(\"c_site_id\", jsonData[0].site_id);",
											"pm.collectionVariables.set(\"c_device_type\", jsonData[0].type);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:org_id/inventory?mac={{mac_address}}",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":org_id",
										"inventory"
									],
									"query": [
										{
											"key": "mac",
											"value": "{{mac_address}}"
										}
									],
									"variable": [
										{
											"key": "org_id",
											"value": "{{org_id}}"
										}
									]
								},
								"description": "#### Response Parameters\n**Parameter**|**Type**|**Description** \nserial|string|device serial\nmodel|string|device model\ntype|string|device type, ap\nmac|string|MAC address\nname|string|device name if assigned\nid|string|device id\nsite_id|string|site id if assigned, null if not assigned\ndeviceprofile_id|string|deviceprofile id if assigned, null if not assigned\nconnected|boolean|whether the AP is connected\ncreated_time|long|inventory created time, in epoch\nmodified_time|long|inventory last modified time, in epoch\n\n\n#### Query Options\n* Filtered Inventory by\n * model\n * serial\n * magic\n * site_id\n\nExample:\n```\nhttps://{{host}}/api/v1/orgs/:org_id/inventory?model=AP41\n```"
							},
							"response": []
						},
						{
							"name": "ipDevice",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var req_body = {\"ip_config\": {\"type\": \"{{ip_type}}\", \"ip\": \"{{ip_address}}\", \"netmask\": \"{{netmask}}\", \"gateway\": \"{{gateway}}\", \"dns\": [ \"{{dns_1}}\", \"{{dns_2}}\" ], \"dns_suffix\": [ \"{{dns_suffix}}\" ]  }};",
											"",
											"if(pm.collectionVariables.get(\"c_device_type\") == \"switch\"){",
											"        req_body.ip_config.network = pm.variables.get(\"network_name\")",
											"    } else if(pm.collectionVariables.get(\"c_device_type\") == \"ap\"){",
											"        if (pm.variables.get(\"vlan_id\") != \"\"){",
											"                    req_body.ip_config.vlan_id = pm.variables.get(\"vlan_id\")",
											"        }",
											"    };",
											"pm.collectionVariables.set(\"c_req_body\", JSON.stringify(req_body))"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);",
											"pm.test(\"Response IP Shows IP set\", function() {",
											"    pm.expect(jsonData.ip_config.ip == pm.variables.get(\"ip_address\"))",
											"});",
											"",
											"pm.collectionVariables.unset(\"c_device_type\")",
											"pm.collectionVariables.unset(\"c_site_id\")",
											"pm.collectionVariables.unset(\"c_device_id\")",
											"pm.collectionVariables.unset(\"site_id\")",
											"pm.collectionVariables.unset(\"c_req_body\")"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{{c_req_body}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{host}}/api/v1/sites/:site_id/devices/:device_id",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"sites",
										":site_id",
										"devices",
										":device_id"
									],
									"variable": [
										{
											"key": "site_id",
											"value": "{{c_site_id}}"
										},
										{
											"key": "device_id",
											"value": "{{c_device_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "This collection will use a CSV Template to static IP multiple sites.\n(Reverting to DHCP will come in a later release)\n\n## Required Environmental Variables:\n\n`apitoken` This your Mist dashboard API token.  It should have permissions to create sites.\n\n`org_id` This is the org id of the org that contains the devices to statically IP'd.\n\n\n## CSV Required Values:\n`mac_address`\n`ip_type`  \\\\static or DHCP\n`ip_type`  = static\n    `ip_address`\n    `netmask`\n    `gateway`\n    `dns_1`\n    `dns_2`\n    `dns_suffix`\n    `network_name` \\\\Switching only\n    `vlan_id` \\\\ AP only.\n\nCSV Optional Values:\n\n\nExample CSV:\n```\nmac_address,ip_type,ip_address,netmask,gateway,dns_1,dns_2,dns_suffix,vlan_id,network_name\nxxxxxxxxxxxx,static,192.168.5.65,255.255.255.0,192.168.5.1,4.2.2.2,8.8.8.8,todsfromds.com,1,\nxxxxxxxxxxxx,static,192.168.5.66,255.255.255.0,192.168.5.1,4.2.2.2,8.8.8.8,todsfromds.com,,default\n```",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Troubleshooting - Via Send/Download",
			"item": [
				{
					"name": "Site Troubleshooting",
					"item": [
						{
							"name": "Find Out of Compliance APs",
							"item": [
								{
									"name": "getSiteIDByName_compliance",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"console.log(`Starting Site ${pm.iterationData.get(\"site_name\")}`)",
													"var nextRequest = null",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"",
													"",
													"if (!!pm.collectionVariables.get(\"c_site_name\")) {",
													"    console.info(`searching for site ${pm.collectionVariables.get(\"c_site_name\")} `);",
													"    for (var i = 0; i < jsonData.length; i++) {",
													"    if (jsonData[i].name == pm.collectionVariables.get(\"c_site_name\")) {",
													"        pm.collectionVariables.set(\"c_site_id\", jsonData[i].id)",
													"        console.info(\"Found Site\")",
													"        console.info(`Site ID = ${pm.collectionVariables.get(\"c_site_id\")}`)",
													"        nextRequest = \"getSiteSettings_compliance\"",
													"        }",
													"}",
													"}",
													"else if (!!pm.iterationData.get(\"id\")) {",
													"    console.info(\"Found ID Field\")",
													"    pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"name\"))",
													"    pm.collectionVariables.set(\"c_site_id\", pm.iterationData.get(\"id\"))",
													"    nextRequest = \"getSiteSettings_compliance\"",
													"};",
													"",
													"pm.test(\"Status code is 200\", function() {",
													"  pm.expect(pm.response.code).to.equal(200);",
													"});",
													"",
													"pm.test(\"site_id is set\", function() {",
													"  pm.expect(!!pm.collectionVariables.get(\"c_site_id\"));",
													"});",
													"",
													"console.log(`setting next request ${nextRequest}`);",
													"postman.setNextRequest(nextRequest);"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"// Ensure all collection variables are removed before running.",
													"pm.collectionVariables.unset(\"c_site_name\");",
													"pm.collectionVariables.unset(\"c_site_id\");",
													"pm.collectionVariables.unset(\"c_site_versions\")",
													"",
													"//Handling of digit only sites with quotes.",
													"var formatted_string = pm.iterationData.get(\"site_name\")",
													"if (!!pm.iterationData.get(\"site_name\")) {",
													"    if (formatted_string.includes(\"\\'\") || formatted_string.includes(\"\\\"\")) {",
													"        console.info(\"stripping formatting of site_name\")",
													"        formatted_string = formatted_string.replace(/'/g, \"\");",
													"        formatted_string = formatted_string.replace(/\"/g, \"\");",
													"        console.log(`Formatted Name ${formatted_string}`);",
													"        pm.collectionVariables.set(\"c_site_name\", formatted_string)",
													"    }",
													"    else {",
													"        pm.collectionVariables.set(\"c_site_name\", pm.iterationData.get(\"site_name\"))",
													"    }",
													"}",
													"",
													"console.info(`Site Name = ${pm.collectionVariables.get(\"c_site_name\")}`)"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://{{host}}/api/v1/orgs/:org_id/sites",
											"protocol": "https",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"v1",
												"orgs",
												":org_id",
												"sites"
											],
											"variable": [
												{
													"key": "org_id",
													"value": "{{org_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "getSiteSettings_compliance",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var nextRequest = null",
													"var jsonData = JSON.parse(responseBody);",
													"",
													"console.warn(`Starting Site: ${pm.collectionVariables.get(\"c_site_name\")}`)",
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Custom Versions are Defined\", function () {",
													"    pm.expect(\"custom_versions\" in jsonData['auto_upgrade']);",
													"});",
													"",
													"if (\"custom_versions in jsonData['auto_upgrade\") {",
													"    pm.collectionVariables.set(\"c_site_versions\", jsonData['auto_upgrade']['custom_versions']);",
													"    nextRequest = \"getDeviceStats_compliance\"",
													"}",
													"",
													"postman.setNextRequest(nextRequest);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://{{host}}/api/v1/sites/:site_id/setting",
											"protocol": "https",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"v1",
												"sites",
												":site_id",
												"setting"
											],
											"variable": [
												{
													"key": "site_id",
													"value": "{{c_site_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "getDeviceStats_compliance",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"proceedCheck = true",
													"ap_versions = pm.collectionVariables.get(\"c_site_versions\")",
													"",
													"pm.test(\"Status code is 200\", function() {",
													"  pm.expect(pm.response.code).to.equal(200);",
													"});",
													"",
													"for (var i = 0; i < jsonData.length; i++) {",
													"    var ap_version = jsonData[i]['version']",
													"    var ap_model = jsonData[i]['model']",
													"    var ap_name = jsonData[i]['name']",
													"    pm.test(`${ap_name} running version ${ap_versions[ap_model]}`, function() {",
													"        pm.expect(ap_version).to.equal(ap_versions[ap_model]);",
													"    });",
													"    if (ap_version != ap_versions[ap_model]) {",
													"        console.error(`${ap_name}: ${ap_version} Site: ${ap_versions[ap_model]}`)",
													"    }",
													"",
													"}"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://{{host}}/api/v1/sites/:site_id/stats/devices",
											"protocol": "https",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"v1",
												"sites",
												":site_id",
												"stats",
												"devices"
											],
											"variable": [
												{
													"key": "site_id",
													"value": "{{c_site_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"description": "This collection will iterate through sites and check the AP `version` for what is defined in the site settings and check the APs for the site to make sure they are running the correct version.  It will fail a test and log an ERROR to the console for each AP that is not in compliance.\n\nYou can source the data from a CSV with `site_name`, or you can run the `getSites - Send and Download` to generate a json payload with all sites.\n\n## Required Environmental Variables:\n`apitoken` This your Mist dashboard API token.  It should have permissions to create sites\n\n`org_id` for some of the site existing verification, we need the org_id.\n\n## Logical details:\n * getSiteIDByName: This call is required as we use this to verify the site exists, and handle a lot of the checks based on which values get passed in (CSV vs json).\n * getSiteSettings: This gets the details of the site_settings and pulls the `auto_upgrade['custom_versions']` for lookup in future steps.\n * getDeviceStats_compliance: This call pulls the site device stats and iterates through each AP.  Then it compares the APs model and version to the version defined in the Site Settings."
						},
						{
							"name": "getSites - Send And Download Copy",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:org_id/sites",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":org_id",
										"sites"
									],
									"variable": [
										{
											"key": "org_id",
											"value": "{{org_id}}"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Device Troubleshooting",
					"item": [
						{
							"name": "Upgrade APs Not Running Version",
							"item": [
								{
									"name": "getSiteDeviceStatsDetailsUpgrade",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"proceedCheck = true",
													"",
													"pm.test(\"Status code is 200\", function() {",
													"  pm.expect(pm.response.code).to.equal(200);",
													"});",
													"",
													"var desVersion = pm.collectionVariables.get(\"desired_ap_version\")",
													"if (desVersion === \"\") {",
													"    desVersion = pm.variables.get(\"desired_ap_version\")",
													"    console.log(\"falling back to environment\")",
													"}",
													"pm.test(\"desired_ap_version set\", function() {",
													"  pm.expect(desVersion).to.include(\".\");",
													"});",
													"if (desVersion.startsWith(\".\")) {",
													"        console.log(`desired_ap_version does not appear set`)",
													"        proceedCheck = false",
													"        };",
													"",
													"",
													"pm.test(\"AP NOT on Current Version.\", function() {",
													"  pm.expect(jsonData.version).to.not.equal(desVersion);",
													"});",
													"",
													"if (jsonData.version == desVersion) {",
													"        proceedCheck = false;",
													"        };",
													"",
													"if (proceedCheck == false){",
													"     nextRequest = null;",
													"     postman.setNextRequest(nextRequest);",
													"};",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://{{host}}/api/v1/sites/:site_id/stats/devices/{{id}}",
											"protocol": "https",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"v1",
												"sites",
												":site_id",
												"stats",
												"devices",
												"{{id}}"
											],
											"variable": [
												{
													"key": "site_id",
													"value": "{{site_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "upgradeSiteDevice",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var jsonData = JSON.parse(responseBody);",
													"pm.test(\"Status code is 200\", function() {",
													"  pm.expect(pm.response.code).to.equal(200);",
													"});",
													"",
													"pm.test(\"Response status is starting\", function() {",
													"  pm.expect(jsonData.status).to.equal(\"starting\");",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Accept",
												"value": "application/json",
												"type": "text"
											},
											{
												"key": "X-CSRFToken",
												"value": "{{csrftoken}}",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"version\": \"{{desired_ap_version}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{host}}/api/v1/sites/:site_id/devices/:device_id/upgrade",
											"protocol": "https",
											"host": [
												"{{host}}"
											],
											"path": [
												"api",
												"v1",
												"sites",
												":site_id",
												"devices",
												":device_id",
												"upgrade"
											],
											"variable": [
												{
													"key": "site_id",
													"value": "{{site_id}}"
												},
												{
													"key": "device_id",
													"value": "{{id}}"
												}
											]
										},
										"description": " #### Body Parameters\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n version|string|default is stable\r\n \r\n  #### Body Response\r\n**Parameter**|**Type**|**Description** \r\n :-------------: |:-------------: |:-------------: \r\n timestamp|float|timestamp\r\n status|string|starting / inprogress / success / error / scheduled\r\n status_id|int|the internal status id"
									},
									"response": []
								}
							],
							"description": "This collection will use a the exported JSON payload of all sites to upgrade all sites that do not match the `desired_ap_version` variable\n\nTo start, run the `getOrgInventoryAPs - Send and Download` to generate a json payload with all sites.\n\nRequired Environmental Variables:\n`apitoken` This your Mist dashboard API token.  It should have permissions to create sites\n`org_id` This is your Mist organization\n`desired_ap_version` This is the version you want the APs upgraded to.\n\nPlease make sure you don't have `site_id` or `id` defined in your environment, or it could cause those values to override the collection.\n\n## TODO\nImplement ability to run via CSV list of APs.",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							]
						},
						{
							"name": "getOrgInventoryAPs - SendAndDownload",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://{{host}}/api/v1/orgs/:org_id/inventory?type=ap",
									"protocol": "https",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"v1",
										"orgs",
										":org_id",
										"inventory"
									],
									"query": [
										{
											"key": "type",
											"value": "ap"
										}
									],
									"variable": [
										{
											"key": "org_id",
											"value": "{{org_id}}"
										}
									]
								},
								"description": "#### Response Parameters\n**Parameter**|**Type**|**Description** \nserial|string|device serial\nmodel|string|device model\ntype|string|device type, ap\nmac|string|MAC address\nname|string|device name if assigned\nid|string|device id\nsite_id|string|site id if assigned, null if not assigned\ndeviceprofile_id|string|deviceprofile id if assigned, null if not assigned\nconnected|boolean|whether the AP is connected\ncreated_time|long|inventory created time, in epoch\nmodified_time|long|inventory last modified time, in epoch\n\n\n#### Query Options\n* Filtered Inventory by\n * model\n * serial\n * magic\n * site_id\n\nExample:\n```\nhttps://{{host}}/api/v1/orgs/:org_id/inventory?model=AP41\n```"
							},
							"response": []
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		}
	],
	"auth": {
		"type": "apikey",
		"apikey": [
			{
				"key": "value",
				"value": "token {{apitoken}}",
				"type": "string"
			},
			{
				"key": "key",
				"value": "Authorization",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "google_api_key",
			"value": ""
		},
		{
			"key": "site_name",
			"value": ""
		},
		{
			"key": "apitoken",
			"value": ""
		},
		{
			"key": "device_name",
			"value": ""
		},
		{
			"key": "host",
			"value": "api.mist.com"
		},
		{
			"key": "no_reassignment_bool",
			"value": ""
		},
		{
			"key": "device_id",
			"value": ""
		},
		{
			"key": "firmware_version",
			"value": ""
		},
		{
			"key": "saveData",
			"value": ""
		},
		{
			"key": "c_webhook_id",
			"value": ""
		},
		{
			"key": "webhook_name",
			"value": ""
		},
		{
			"key": "c_device_id",
			"value": ""
		},
		{
			"key": "c_device_type",
			"value": ""
		},
		{
			"key": "areYouSure",
			"value": "false"
		},
		{
			"key": "desired_ap_version",
			"value": ""
		},
		{
			"key": "c_geocode",
			"value": ""
		},
		{
			"key": "lat",
			"value": ""
		},
		{
			"key": "lng",
			"value": ""
		},
		{
			"key": "c_site_id",
			"value": ""
		},
		{
			"key": "c_rftemplate_id",
			"value": " "
		},
		{
			"key": "c_secpolicy_id",
			"value": " "
		},
		{
			"key": "c_alarmtemplate_id",
			"value": " "
		},
		{
			"key": "c_networktemplate_id",
			"value": " "
		},
		{
			"key": "c_clone",
			"value": ""
		},
		{
			"key": "c_site_name",
			"value": ""
		},
		{
			"key": "c_site_versions",
			"value": ""
		},
		{
			"key": "c_site_template_settings",
			"value": ""
		}
	]
}